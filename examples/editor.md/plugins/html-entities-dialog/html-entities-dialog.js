!function(){function i(f){var u=jQuery,m="html-entities-dialog",p=[],v=[];f.fn.htmlEntitiesDialog=function(){var l,e=this,t=this.cm,i=e.lang,o=e.settings,n=o.pluginPath+m+"/",a=this.editor,d=(t.getCursor(),t.getSelection(),e.classPrefix),s=d+"dialog-"+m,c=i.dialog.htmlEntities,r=['<div class="'+d+'html-entities-box" style="width: 760px;height: 334px;margin-bottom: 8px;overflow: hidden;overflow-y: auto;">','<div class="'+d+'grid-table">',"</div>","</div>"].join("\r\n");t.focus(),0<a.find("."+s).length?(l=a.find("."+s),p=[],l.find("a").removeClass("selected"),this.dialogShowMask(l),this.dialogLockScreen(),l.show()):l=this.createDialog({name:s,title:c.title,width:800,height:475,mask:o.dialogShowMask,drag:o.dialogDraggable,content:r,lockScreen:o.dialogLockScreen,maskStyle:{opacity:o.dialogMaskOpacity,backgroundColor:o.dialogMaskBgColor},buttons:{enter:[i.buttons.enter,function(){return t.replaceSelection(p.join(" ")),this.hide().lockScreen(!1).hideMask(),!1}],cancel:[i.buttons.cancel,function(){return this.hide().lockScreen(!1).hideMask(),!1}]}});function h(){if(!(v.length<1)){var e=Math.ceil(v.length/20);g.html("");for(var t=0;t<e;t++){for(var i='<div class="'+d+'grid-table-row">',o=0;o<20;o++){var n,a=v[20*t+o];void 0!==a&&(n=a.name.replace("&amp;","&"),i+='<a href="javascript:;" value="'+a.name+'" title="'+n+'" class="'+d+'html-entity-btn">'+n+"</a>")}i+="</div>",g.append(i)}l.find("."+d+"html-entity-btn").bind(f.mouseOrTouch("click","touchend"),function(){u(this).toggleClass("selected"),u(this).hasClass("selected")&&p.push(u(this).attr("value"))})}}var g=l.find("."+d+"grid-table");v.length<1?("function"==typeof l.loading&&l.loading(!0),u.getJSON(n+m.replace("-dialog","")+".json",function(e){"function"==typeof l.loading&&l.loading(!1),v=e,h()})):h()}}"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports=i:"function"==typeof define?define.amd?define(["editormd"],function(e){i(e)}):define(function(e){var t=e("./../../editormd");i(t)}):i(window.editormd)}();