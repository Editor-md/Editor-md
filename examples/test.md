
<details class = 'note' open>
<summary>目录</summary>

[TOC]

</details>

# 树的基本概念

- 根节点`root`到某一指定结点`K`的唯一路径上的任意结点`B`均为`K`的祖先，而`K`为`B`的子孙，该路径上离`K`最近的结点`E`为`K`的双亲，而`K`为`E`的孩子，有相同双亲的结点称为兄弟。

# 树的基本性质

- 树的路径长度指的是根到每个结点的路径长的总和。
- 树的高度指的是根到每个结点的路径长的最大值 $+1$，此处根节点所在高度为 $1$。
- 树中结点的孩子个数为该结点的度数。
- 树中的结点个数等于所有结点的度数 $+1$。参照上一条，再考虑根节点没有父亲即可推出此条。
- 度为 $m$ 的树中第 $i$ 层上至多有 $m^{i - 1}$ 个结点 $(i \geq 1)$。
- 高度为 $h$ 的 $m$ 叉树至多有 $\displaystyle \frac{m^h - 1}{m - 1}$ 个结点。

	<details class = 'info' open>
	<summary>证明</summary>

	参照上一条，$m$ 叉树的第 $i$ 层上至多有 $m^{i - 1}$ 个结点，那么考虑高度为 $h$ 的 $m$ 叉树，至多的结点个数为：

	$$
	\begin{eqnarray*}
	\sum\limits_{i = 1}^h m^{i - 1} = \frac{m^h - 1}{m - 1}
	\end{eqnarray*}
	$$

	上述等式通过等比数列求和公式得出。

	</details>


- 具有 $n$ 个结点的 $m$ 叉树的最小高度为 $\displaystyle \lceil \log_m(n(m - 1) + 1) \rceil$。

	<details class = 'info' open>
	<summary>证明</summary>

	设最小高度为 $h$，那么有：

	$$
	\begin{eqnarray*}
	\frac{m^h - 1}{m - 1} \geq n
	\end{eqnarray*}
	$$

	即：

	$$
	\begin{eqnarray*}
	m^h \geq (n(m - 1) + 1)
	\end{eqnarray*}
	$$

	等式两边同时取对数有：

	$$
	\begin{eqnarray*}
	\log_m m^h &\geq& \log_m (n(m - 1) + 1) \\
	h &\geq& \log_m (n(m - 1) + 1)
	\end{eqnarray*}
	$$

	</details>




# 二叉树

## 几个特殊的二叉树

### 满二叉树

一棵高度为 $h$，且含有 $2^h - 1$ 个结点的二叉树称为满二叉树。

层序编号：从根节点`1-indexed`起，从上到下，从左至右按序编号。
对于编号为 $i$ 的结点：
- 如果有双亲，其双亲编号为 $\lfloor i / 2 \rfloor$。
- 如果有左孩子，其左孩子编号为 $2i$。
- 如果有右孩子，其右孩子编号为 $2i + 1$。

### 完全二叉树

高度为 $h$，有 $n$ 个结点的二叉树，当且仅当其每个结点都与高度为 $h$ 的满二叉树中编号为 $1 \sim n$ 的结点一一对应时，称为完全二叉树。
通俗来说，就是截掉满二叉树最底层`从右至左`一段后缀结点后就是完全二叉树。
>满二叉树是特殊的完全二叉树。

- $\lfloor n / 2 \rfloor$是编号最大的分支结点。
- 最多有一个度为 $1$ 的结点，该结点是编号最大的分支结点, 当且仅当 $n$ 为偶数时才有度为 $1$ 的结点。

### 二叉排序树

左子树中的所有结点的权值均小于根节点的权值，右子树中的所有结点的权值均小于根节点的权值，左右子树也是二叉排序树。

- 在二叉排序树上查找结点的时间复杂度为 $\mathcal{O}(\log n)$。

### 平衡二叉树

树上任一结点的左右子树的深度之差不超过 $1$。


## 二叉树的性质

- 非空二叉树上的叶子结点数等于度为 $2$ 的结点数 $+1$，即 $n_0 = n_2 + 1$。

	<details class = 'info' open>
	<summary>证明</summary>

	设 $n_0, n_1, n_2$ 分别表示度为 $0, 1, 2$ 的结点个数，那么总结点个数即 $n = n_0 + n_1 + n_2$。
	再考虑树中的结点数等于所有结点的度数 $+1$，即$n = n_1 + 2n_2 + 1$。
	所以有：

	$$
	\begin{eqnarray*}
	n_0 + n_1 + n_2 &=& n_1 + 2n_2 + 1 \\
	n_0 &=& n_2 + 1
	\end{eqnarray*}
	$$

	</details>

- 非空二叉树上第 $k$ 层上至多有 $2^{k - 1}$ 个结点 $(k \geq 1)$。
- 高度为 $h$ 的二叉树至多有 $2^h - 1$ 个结点 $(h \geq 1)$。
- 具有 $n(n \gt 0)$ 个结点的完全二叉树的高度为 $\lceil \log_2(n + 1) \rceil$ 或 $\lfloor \log_2 n \rfloor + 1$。
- 对完全二叉树进行层序编号：
	- 当 $i \gt 1$ 时，结点 $i$ 的双亲编号为 $\lfloor i / 2 \rfloor$。
		- 当 $i$ 为偶数时，其双亲编号为 $i / 2$，它是双亲的左孩子。
		- 当 $i$ 为奇数时，其双亲编号为 $(i - 1) / 2$，它是双亲的右孩子。
	- 当 $2i \leq n$ 时，结点 $i$ 的左孩子编号为 $2i$，否则无左孩子。
	- 当 $2i + 1 \leq n$时，结点 $i$ 的右孩子编号为 $2i + 1$，否则无右孩子。
	- 结点 $i$ 所在层次(深度)为 $\lfloor \log_2 i \rfloor + 1$。


## 二叉树的存储结构

- 顺序存储结构
	- 一般适用于完全二叉树和满二叉树，能很好的发挥其性质并能节省空间。
	- 最坏情况下，一个高度为 $h$，却只有 $h$ 个结点的一般二叉树，采用顺序存储需要占据近 $2^h - 1$和存储单元(不存在的结点以 $0$ 或 $-1$替代)。
- 链式存储结构
	- 在含有 $n$ 个结点的二叉链表中，含有 $n + 1$ 个空链域。

		<details class = 'info' open>
		<summary>证明</summary>

		考虑归纳证明：

		显然，$1$ 个结点的时候该结论成立。
		假设 $k - 1$ 个结点的时候也成立，对于 $n = k$ 的情况：
		我们考虑 $n = k$ 的情况是基于 $n = k - 1$ 的情况，然后接一个点上去，未接之前的空链域数量为 $k$，那么加一个结点，会用掉一个空链域，再加入两个空链域，此时所剩空链域数量为：

		$$
		k - 1 + 2 = k + 1 = n + 1
		$$

		得证。

		</details>







```cpp
dfsafasf
```

![从太空中拍摄到的地球](https://wiki.dup4.top/attachments/article/4/9e1168e0-c1f9-11ea-80b5-174c378018d1/ZoomOut_ZH-CN4471982075_1920x1080.jpg "从太空中拍摄到的地球")
