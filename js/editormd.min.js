/*! Dup4.Editor.md v2.0.0 | editormd.min.js | Open source online markdown editor. | MIT License | By: Dup4 | https://gitee.com/Dup4/Dup4.editor.md | 2020-06-19 */
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).marked=t()}(void 0,function(){function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e){return c[e]}var e,i,r=((i=e={exports:{}}).exports={defaults:h(),getDefaults:h,changeDefaults:function(e){i.exports.defaults=e}},e.exports),o=(r.defaults,r.getDefaults,r.changeDefaults,/[&<>"']/),a=/[&<>"']/g,s=/[<>"']|&(?!#?\w+;)/,l=/[<>"']|&(?!#?\w+;)/g,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function h(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,xhtml:!1,imageLazyLoad:!1,imageLazyLoadLoadingICON:""}}var d=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function u(e){return e.replace(d,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}var p=/(^|[^\[])\^/g,f=/[^\w:]/g,g=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,m={},A=/^[^:]+:\/*[^/]*$/,w=/^([^:]+:)[\s\S]*$/,v=/^([^:]+:\/*[^/]*)[\s\S]*$/;function b(e,t,n){var i=e.length;if(0===i)return"";for(var r=0;r<i;){var o=e.charAt(i-r-1);if(o!==t||n){if(o===t||!n)break;r++}else r++}return e.substr(0,i-r)}function k(e,t){if(t){if(o.test(e))return e.replace(a,n)}else if(s.test(e))return e.replace(l,n);return e}function y(e){for(var t,n,i=1;i<arguments.length;i++)for(n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}var x=u,C=r.defaults,S=b,L=function(e,t){var n=e.replace(/\|/g,function(e,t,n){for(var i=!1,r=t;0<=--r&&"\\"===n[r];)i=!i;return i?"|":" |"}).split(/ \|/),i=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n},T=k,M=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,i=0,r=0;r<n;r++)if("\\"===e[r])r++;else if(e[r]===t[0])i++;else if(e[r]===t[1]&&--i<0)return r;return-1};function D(e,t,n){var i=t.href,r=t.title?T(t.title):null;return"!"!==e[0].charAt(0)?{type:"link",raw:n,href:i,title:r,text:e[1]}:{type:"image",raw:n,text:T(e[1]),href:i,title:r}}var E,I=((E=B.prototype).space=function(e){var t=this.rules.block.newline.exec(e);if(t)return 1<t[0].length?{type:"space",raw:t[0]}:{raw:"\n"}},E.code=function(e,t){var n=this.rules.block.code.exec(e);if(n){var i=t[t.length-1];if(i&&"paragraph"===i.type)return{raw:n[0],text:n[0].trimRight()};var r=n[0].replace(/^ {4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:S(r,"\n")}}},E.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var i=t[0],n=function(e){var t=i.match(/^(\s+)(?:```)/);if(null===t)return e;var n=t[1];return e.split("\n").map(function(e){var t=e.match(/^\s+/);return null!==t&&t[0].length>=n.length?e.slice(n.length):e}).join("\n")}(t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim():t[2],text:n}}},E.heading=function(e){var t=this.rules.block.heading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[1].length,text:t[2]}},E.nptable=function(e){var t=this.rules.block.nptable.exec(e);if(t){var n={type:"table",header:L(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(n.header.length===n.align.length){for(var i=n.align.length,r=0;r<i;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(i=n.cells.length,r=0;r<i;r++)n.cells[r]=L(n.cells[r],n.header.length);return n}}},E.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},E.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:n}}},E.list=function(e){var t=this.rules.block.list.exec(e);if(t){for(var n,i,r,o,a,s,l,c=t[0],h=t[2],d=1<h.length,u={type:"list",raw:c,ordered:d,start:d?+h:"",loose:!1,items:[]},p=t[0].match(this.rules.block.item),f=!1,g=p.length,m=0;m<g;m++)i=(c=n=p[m]).length,~(n=n.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(i-=n.length,n=this.options.pedantic?n.replace(/^ {1,4}/gm,""):n.replace(new RegExp("^ {1,"+i+"}","gm"),"")),m!==g-1&&(r=this.rules.block.bullet.exec(p[m+1])[0],(1<h.length?1===r.length:1<r.length||this.options.smartLists&&r!==h)&&(o=p.slice(m+1).join("\n"),u.raw=u.raw.substring(0,u.raw.length-o.length),m=g-1)),a=f||/\n\n(?!\s*$)/.test(n),m!==g-1&&(f="\n"===n.charAt(n.length-1),a=a||f),a&&(u.loose=!0),l=void 0,(s=/^\[[ xX]\] /.test(n))&&(l=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,"")),u.items.push({raw:c,task:s,checked:l,loose:a,text:n});return u}},E.html=function(e){var t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):T(t[0]):t[0]}},E.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},E.table=function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:"table",header:L(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=t[0];for(var i=n.align.length,r=0;r<i;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(i=n.cells.length,r=0;r<i;r++)n.cells[r]=L(n.cells[r].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},E.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}},E.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}},E.text=function(e,t){var n=this.rules.block.text.exec(e);if(n){var i=t[t.length-1];return i&&"text"===i.type?{raw:n[0],text:n[0]}:{type:"text",raw:n[0],text:n[0]}}},E.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:T(t[1])}},E.tag=function(e,t,n){var i=this.rules.inline.tag.exec(e);if(i)return!t&&/^<a /i.test(i[0])?t=!0:t&&/^<\/a>/i.test(i[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:i[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):T(i[0]):i[0]}},E.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var n,i=M(t[2],"()");-1<i&&(n=(0===t[0].indexOf("!")?5:4)+t[1].length+i,t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,n).trim(),t[3]="");var r,o=t[2],a="",a=this.options.pedantic?(r=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o))?(o=r[1],r[3]):"":t[3]?t[3].slice(1,-1):"";return D(t,{href:(o=o.trim().replace(/^<([\s\S]*)>$/,"$1"))?o.replace(this.rules.inline._escapes,"$1"):o,title:a?a.replace(this.rules.inline._escapes,"$1"):a},t[0])}},E.reflink=function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var i=(n[2]||n[1]).replace(/\s+/g," ");if((i=t[i.toLowerCase()])&&i.href)return D(n,i,n[0]);var r=n[0].charAt(0);return{type:"text",raw:r,text:r}}},E.strong=function(e){var t=this.rules.inline.strong.exec(e);if(t)return{type:"strong",raw:t[0],text:t[4]||t[3]||t[2]||t[1]}},E.em=function(e){var t=this.rules.inline.em.exec(e);if(t)return{type:"em",raw:t[0],text:t[6]||t[5]||t[4]||t[3]||t[2]||t[1]}},E.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),i=/[^ ]/.test(n),r=n.startsWith(" ")&&n.endsWith(" ");return i&&r&&(n=n.substring(1,n.length-1)),n=T(n,!0),{type:"codespan",raw:t[0],text:n}}},E.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},E.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[1]}},E.autolink=function(e,t){var n=this.rules.inline.autolink.exec(e);if(n){var i,r="@"===n[2]?"mailto:"+(i=T(this.options.mangle?t(n[1]):n[1])):i=T(n[1]);return{type:"link",raw:n[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}},E.url=function(e,t){var n,i,r,o;if(n=this.rules.inline.url.exec(e)){if("@"===n[2])r="mailto:"+(i=T(this.options.mangle?t(n[0]):n[0]));else{for(;o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0],o!==n[0];);i=T(n[0]),r="www."===n[1]?"http://"+i:i}return{type:"link",raw:n[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}},E.inlineText=function(e,t,n){var i=this.rules.inline.text.exec(e);if(i){var r=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):T(i[0]):i[0]:T(this.options.smartypants?n(i[0]):i[0]);return{type:"text",raw:i[0],text:r}}},B),z={exec:function(){}},P=function(n,e){n=n.source||n,e=e||"";var i={replace:function(e,t){return t=(t=t.source||t).replace(p,"$1"),n=n.replace(e,t),i},getRegex:function(){return new RegExp(n,e)}};return i},j=y,N={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:z,table:z,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};function B(e){this.options=e||C}N.def=P(N.def).replace("label",N._label).replace("title",N._title).getRegex(),N.bullet=/(?:[*+-]|\d{1,9}\.)/,N.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,N.item=P(N.item,"gm").replace(/bull/g,N.bullet).getRegex(),N.list=P(N.list).replace(/bull/g,N.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+N.def.source+")").getRegex(),N._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",N._comment=/<!--(?!-?>)[\s\S]*?-->/,N.html=P(N.html,"i").replace("comment",N._comment).replace("tag",N._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),N.paragraph=P(N._paragraph).replace("hr",N.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",N._tag).getRegex(),N.blockquote=P(N.blockquote).replace("paragraph",N.paragraph).getRegex(),N.normal=j({},N),N.gfm=j({},N.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),N.gfm.nptable=P(N.gfm.nptable).replace("hr",N.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",N._tag).getRegex(),N.gfm.table=P(N.gfm.table).replace("hr",N.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",N._tag).getRegex(),N.pedantic=j({},N.normal,{html:P("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",N._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:z,paragraph:P(N.normal._paragraph).replace("hr",N.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",N.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var R={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:z,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^_([^\s_<][\s\S]*?[^\s_])_(?!_|[^\s,punctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\s,punctuation])|^\*([^\s*<\[])\*(?!\*)|^\*([^\s<"][\s\S]*?[^\s\[\*])\*(?![\]`punctuation])|^\*([^\s*"<\[][\s\S]*[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:z,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,_punctuation:"!\"#$%&'()*+\\-./:;<=>?@\\[^_{|}~"};R.em=P(R.em).replace(/punctuation/g,R._punctuation).getRegex(),R._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,R._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,R._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,R.autolink=P(R.autolink).replace("scheme",R._scheme).replace("email",R._email).getRegex(),R._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,R.tag=P(R.tag).replace("comment",N._comment).replace("attribute",R._attribute).getRegex(),R._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,R._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,R._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,R.link=P(R.link).replace("label",R._label).replace("href",R._href).replace("title",R._title).getRegex(),R.reflink=P(R.reflink).replace("label",R._label).getRegex(),R.normal=j({},R),R.pedantic=j({},R.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:P(/^!?\[(label)\]\((.*?)\)/).replace("label",R._label).getRegex(),reflink:P(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",R._label).getRegex()}),R.gfm=j({},R.normal,{escape:P(R.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),R.gfm.url=P(R.gfm.url,"i").replace("email",R.gfm._extended_email).getRegex(),R.breaks=j({},R.gfm,{br:P(R.br).replace("{2,}","*").getRegex(),text:P(R.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var H={block:N,inline:R},Q=r.defaults,q=H.block,_=H.inline;function F(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function O(e){for(var t,n="",i=e.length,r=0;r<i;r++)t=e.charCodeAt(r),.5<Math.random()&&(t="x"+t.toString(16)),n+="&#"+t+";";return n}var U,K,G=function(){function n(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Q,this.options.tokenizer=this.options.tokenizer||new I,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var t={block:q.normal,inline:_.normal};this.options.pedantic?(t.block=q.pedantic,t.inline=_.pedantic):this.options.gfm&&(t.block=q.gfm,this.options.breaks?t.inline=_.breaks:t.inline=_.gfm),this.tokenizer.rules=t}n.lex=function(e,t){return new n(t).lex(e)};var e=n.prototype;return e.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0,0),this.inline(this.tokens),this.tokens},e.blockTokens=function(e,t,n,i){var r,o,a,s;void 0===t&&(t=[]),void 0===n&&(n=!0),e=e.replace(/^ +$/gm,"");for(var l=i,c=0;e;)if(l+=c,r=this.tokenizer.space(e))e=e.substring(r.raw.length),l+=r.raw.length,r.type&&t.push(r);else if(r=this.tokenizer.code(e,t))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,r.type?t.push(r):((s=t[t.length-1]).raw+="\n"+r.raw,s.text+="\n"+r.text);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,r.line=l,t.push(r);else if(r=this.tokenizer.nptable(e))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,r.line=l,t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,r.tokens=this.blockTokens(r.text,[],n,l),t.push(r);else if(r=this.tokenizer.list(e)){for(e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,r.line=l,a=r.items.length,o=0;o<a;o++)r.items[o].tokens=this.blockTokens(r.items[o].text,[],!1,l);t.push(r)}else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,r.line=l,t.push(r);else if(n&&(r=this.tokenizer.def(e)))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,r.line=l,t.push(r);else if(n&&(r=this.tokenizer.paragraph(e)))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,r.line=l,t.push(r);else if(r=this.tokenizer.text(e,t))e=e.substring(r.raw.length),c=r.raw.split("\n").length-1,r.type?t.push(r):((s=t[t.length-1]).raw+="\n"+r.raw,s.text+="\n"+r.text);else if(e){var h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}throw new Error(h)}return t},e.inline=function(e){for(var t,n,i,r,o,a=e.length,s=0;s<a;s++)switch((o=e[s]).type){case"paragraph":case"text":case"heading":o.tokens=[],this.inlineTokens(o.text,o.tokens);break;case"table":for(o.tokens={header:[],cells:[]},i=o.header.length,t=0;t<i;t++)o.tokens.header[t]=[],this.inlineTokens(o.header[t],o.tokens.header[t]);for(i=o.cells.length,t=0;t<i;t++)for(r=o.cells[t],o.tokens.cells[t]=[],n=0;n<r.length;n++)o.tokens.cells[t][n]=[],this.inlineTokens(r[n],o.tokens.cells[t][n]);break;case"blockquote":this.inline(o.tokens);break;case"list":for(i=o.items.length,t=0;t<i;t++)this.inline(o.items[t].tokens)}return e},e.inlineTokens=function(e,t,n,i){var r;for(void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===i&&(i=!1);e;)if(r=this.tokenizer.escape(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.tag(e,n,i))e=e.substring(r.raw.length),n=r.inLink,i=r.inRawBlock,t.push(r);else if(r=this.tokenizer.link(e))e=e.substring(r.raw.length),"link"===r.type&&(r.tokens=this.inlineTokens(r.text,[],!0,i)),t.push(r);else if(r=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(r.raw.length),"link"===r.type&&(r.tokens=this.inlineTokens(r.text,[],!0,i)),t.push(r);else if(r=this.tokenizer.strong(e))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,i),t.push(r);else if(r=this.tokenizer.em(e))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,i),t.push(r);else if(r=this.tokenizer.codespan(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.br(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.del(e))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,i),t.push(r);else if(r=this.tokenizer.autolink(e,O))e=e.substring(r.raw.length),t.push(r);else if(n||!(r=this.tokenizer.url(e,O))){if(r=this.tokenizer.inlineText(e,i,F))e=e.substring(r.raw.length),t.push(r);else if(e){var o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}throw new Error(o)}}else e=e.substring(r.raw.length),t.push(r);return t},t(n,[{key:"rules",get:function(){return{block:q,inline:_}}}]),n}(),V=r.defaults,W=function(e,t,n){if(e){var i;try{i=decodeURIComponent(u(n)).replace(f,"").toLowerCase()}catch(e){return null}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return null}t&&!g.test(n)&&(n=function(e,t){m[" "+e]||(A.test(e)?m[" "+e]=e+"/":m[" "+e]=b(e,"/",!0));var n=-1===(e=m[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(w,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(v,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n},Z=k,$=((K=he.prototype).code=function(e,t,n){var i,r=(t||"").match(/\S*/)[0];return!this.options.highlight||null!=(i=this.options.highlight(e,r))&&i!==e&&(n=!0,e=i),r?'<pre><code class="'+this.options.langPrefix+Z(r,!0)+'">'+(n?e:Z(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:Z(e,!0))+"</code></pre>"},K.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},K.html=function(e){return e},K.heading=function(e,t,n,i){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+i.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},K.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},K.list=function(e,t,n){var i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"},K.listitem=function(e){return"<li>"+e+"</li>\n"},K.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},K.paragraph=function(e){return"<p>"+e+"</p>\n"},K.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n"+(t=t&&"<tbody>"+t+"</tbody>")+"</table>\n"},K.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},K.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},K.strong=function(e){return"<strong>"+e+"</strong>"},K.em=function(e){return"<em>"+e+"</em>"},K.codespan=function(e){return"<code>"+e+"</code>"},K.br=function(){return this.options.xhtml?"<br/>":"<br>"},K.del=function(e){return"<del>"+e+"</del>"},K.link=function(e,t,n){if(null===(e=W(this.options.sanitize,this.options.baseUrl,e)))return n;var i='<a href="'+Z(e)+'"';return t&&(i+=' title="'+t+'"'),i+">"+n+"</a>"},K.image=function(e,t,n){if(null===(e=W(this.options.sanitize,this.options.baseUrl,e)))return n;var i='<img src="'+e+'" alt="图片加载中..."';return!0===this.options.imageLazyLoad&&(i='<img class="lazyload markdown-img" src="data:image/gif;base64,'+this.options.imageLazyLoadLoadingICON+'" data-src="'+e+'" alt="图片加载中..." '),t&&(i+=' title="'+t+'"'),i+(this.options.xhtml?"/>":">")},K.text=function(e){return e},he),J=((U=ce.prototype).strong=function(e){return e},U.em=function(e){return e},U.codespan=function(e){return e},U.del=function(e){return e},U.html=function(e){return e},U.text=function(e){return e},U.link=function(e,t,n){return""+n},U.image=function(e,t,n){return""+n},U.br=function(){return""},ce),X=(le.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t))for(var n=t;this.seen[n]++,t=n+"-"+this.seen[n],this.seen.hasOwnProperty(t););return this.seen[t]=0,t},le),Y=r.defaults,ee=x,te=function(){function n(e){this.options=e||Y,this.options.renderer=this.options.renderer||new $,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new J,this.slugger=new X}n.parse=function(e,t){return new n(t).parse(e)};var e=n.prototype;return e.parse=function(e,t){void 0===t&&(t=!0);for(var n,i,r,o,a,s,l,c,h,d,u,p,f,g,m,A,w="",v=e.length,b=0;b<v;b++)switch((h=e[b]).type){case"space":continue;case"hr":w+=this.renderer.hr();continue;case"heading":w+=this.renderer.heading(this.parseInline(h.tokens),h.depth,ee(this.parseInline(h.tokens,this.textRenderer)),h.line);continue;case"code":w+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(s=l="",r=h.header.length,n=0;n<r;n++)s+=this.renderer.tablecell(this.parseInline(h.tokens.header[n]),{header:!0,align:h.align[n]});for(l+=this.renderer.tablerow(s),c="",r=h.cells.length,n=0;n<r;n++){for(s="",o=(a=h.tokens.cells[n]).length,i=0;i<o;i++)s+=this.renderer.tablecell(this.parseInline(a[i]),{header:!1,align:h.align[i]});c+=this.renderer.tablerow(s)}w+=this.renderer.table(l,c,h.line);continue;case"blockquote":c=this.parse(h.tokens),w+=this.renderer.blockquote(c);continue;case"list":for(d=h.ordered,h.start,u=h.loose,r=h.items.length,c="",n=0;n<r;n++)g=(f=h.items[n]).checked,m=f.task,p="",f.task&&(A=this.renderer.checkbox(g),u?"text"===f.tokens[0].type?(f.tokens[0].text=A+" "+f.tokens[0].text,f.tokens[0].tokens&&0<f.tokens[0].tokens.length&&"text"===f.tokens[0].tokens[0].type&&(f.tokens[0].tokens[0].text=A+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:A}):p+=A),p+=this.parse(f.tokens,u),c+=this.renderer.listitem(p,m,g);w+=this.renderer.list(c,d,h.line);continue;case"html":w+=this.renderer.html(h.text);continue;case"paragraph":w+=this.renderer.paragraph(this.parseInline(h.tokens),h.line);continue;case"text":for(c=h.tokens?this.parseInline(h.tokens):h.text;b+1<v&&"text"===e[b+1].type;)c+="\n"+((h=e[++b]).tokens?this.parseInline(h.tokens):h.text);w+=t?this.renderer.paragraph(c):c;continue;default:var k='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(k);throw new Error(k)}return w},e.parseInline=function(e,t){t=t||this.renderer;for(var n,i="",r=e.length,o=0;o<r;o++)switch((n=e[o]).type){case"escape":i+=t.text(n.text);break;case"html":i+=t.html(n.text);break;case"link":i+=t.link(n.href,n.title,this.parseInline(n.tokens,t));break;case"image":i+=t.image(n.href,n.title,n.text);break;case"strong":i+=t.strong(this.parseInline(n.tokens,t));break;case"em":i+=t.em(this.parseInline(n.tokens,t));break;case"codespan":i+=t.codespan(n.text);break;case"br":i+=t.br();break;case"del":i+=t.del(this.parseInline(n.tokens,t));break;case"text":i+=t.text(n.text);break;default:var a='Token with "'+n.type+'" type was not found.';if(this.options.silent)return void console.error(a);throw new Error(a)}return i},n}(),ne=y,ie=function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},re=k,oe=r.getDefaults,ae=r.changeDefaults,se=r.defaults;function le(){this.seen={}}function ce(){}function he(e){this.options=e||V}function de(t,a,s){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(s||"function"==typeof a){var e=function(){s||(s=a,a=null),a=ne({},de.defaults,a||{}),ie(a);var n,i,r=a.highlight,e=0;try{n=G.lex(t,a)}catch(e){return{v:s(e)}}function o(e){if(e)return a.highlight=r,s(e);var t;try{t=te.parse(n,a)}catch(t){e=t}return a.highlight=r,e?s(e):s(null,t)}if(i=n.length,!r||r.length<3)return{v:o()};if(delete a.highlight,!i)return{v:o()};for(;e<n.length;e++)!function(n){"code"!==n.type?--i||o():r(n.text,n.lang,function(e,t){return e?o(e):null==t||t===n.text?--i||o():(n.text=t,n.escaped=!0,void(--i||o()))})}(n[e]);return{v:void 0}}();if("object"==(void 0===e?"undefined":_typeof(e)))return e.v}try{return a=ne({},de.defaults,a||{}),ie(a),te.parse(G.lex(t,a),a)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(a||de.defaults).silent)return"<p>An error occurred:</p><pre>"+re(e.message+"",!0)+"</pre>";throw e}}return de.options=de.setOptions=function(e){return ne(de.defaults,e),ae(de.defaults),de},de.getDefaults=oe,de.defaults=se,de.use=function(s){var t=ne({},s);s.renderer&&function(){var a=de.defaults.renderer||new $;for(var e in s.renderer)!function(r){var o=a[r];a[r]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=s.renderer[r].apply(a,t);return!1===i&&(i=o.apply(a,t)),i}}(e);t.renderer=a}(),s.tokenizer&&function(){var a=de.defaults.tokenizer||new I;for(var e in s.tokenizer)!function(r){var o=a[r];a[r]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=s.tokenizer[r].apply(a,t);return!1===i&&(i=o.apply(a,t)),i}}(e);t.tokenizer=a}(),de.setOptions(t)},de.Parser=te,de.parser=te.parse,de.Renderer=$,de.TextRenderer=J,de.Lexer=G,de.lexer=G.lex,de.Tokenizer=I,de.Slugger=X,de.parse=de});var prettyPrintOne,prettyPrint,IN_GLOBAL_SCOPE=!0;window.PR_SHOULD_USE_CONTINUATION=!0,function(){var E=window,e=["break,continue,do,else,for,if,return,while"],t=[[e,"auto,case,char,const,default,double,enum,extern,float,goto,inline,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],n=[t,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,delegate,dynamic_cast,explicit,export,friend,generic,late_check,mutable,namespace,nullptr,property,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],i=[t,"abstract,assert,boolean,byte,extends,final,finally,implements,import,instanceof,interface,null,native,package,strictfp,super,synchronized,throws,transient"],r=[i,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,internal,into,is,let,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var,virtual,where"],o=[t,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],a="caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",s=[e,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],l=[e,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],c=[e,"as,assert,const,copy,drop,enum,extern,fail,false,fn,impl,let,log,loop,match,mod,move,mut,priv,pub,pure,ref,self,static,struct,true,trait,type,unsafe,use"],h=[e,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],d=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)\b/,u="str",p="com",f="pun",S="pln",L="src";function g(e){for(var c=0,h=!1,t=!1,n=0,i=e.length;n<i;++n){if((a=e[n]).ignoreCase)t=!0;else if(/[a-z]/i.test(a.source.replace(/\\u[0-9a-f]{4}|\\x[0-9a-f]{2}|\\[^ux]/gi,""))){t=!(h=!0);break}}var r={b:8,t:9,n:10,v:11,f:12,r:13};function p(e){var t=e.charCodeAt(0);if(92!==t)return t;var n=e.charAt(1);return(t=r[n])||("0"<=n&&n<="7"?parseInt(e.substring(1),8):"u"===n||"x"===n?parseInt(e.substring(2),16):e.charCodeAt(1))}function f(e){if(e<32)return(e<16?"\\x0":"\\x")+e.toString(16);var t=String.fromCharCode(e);return"\\"===t||"-"===t||"]"===t||"^"===t?"\\"+t:t}function o(e){for(var t=e.source.match(new RegExp("(?:\\[(?:[^\\x5C\\x5D]|\\\\[\\s\\S])*\\]|\\\\u[A-Fa-f0-9]{4}|\\\\x[A-Fa-f0-9]{2}|\\\\[0-9]+|\\\\[^ux0-9]|\\(\\?[:!=]|[\\(\\)\\^]|[^\\x5B\\x5C\\(\\)\\^]+)","g")),n=t.length,i=[],r=0,o=0;r<n;++r){"("===(s=t[r])?++o:"\\"===s.charAt(0)&&(a=+s.substring(1))&&(a<=o?i[a]=-1:t[r]=f(a))}for(r=1;r<i.length;++r)-1===i[r]&&(i[r]=++c);for(var a,r=0,o=0;r<n;++r){"("===(s=t[r])?i[++o]||(t[r]="(?:"):"\\"===s.charAt(0)&&(a=+s.substring(1))&&a<=o&&(t[r]="\\"+i[a])}for(r=0;r<n;++r)"^"===t[r]&&"^"!==t[r+1]&&(t[r]="");if(e.ignoreCase&&h)for(r=0;r<n;++r){var s,l=(s=t[r]).charAt(0);2<=s.length&&"["===l?t[r]=function(e){var t=e.substring(1,e.length-1).match(new RegExp("\\\\u[0-9A-Fa-f]{4}|\\\\x[0-9A-Fa-f]{2}|\\\\[0-3][0-7]{0,2}|\\\\[0-7]{1,2}|\\\\[\\s\\S]|-|[^-\\\\]","g")),n=[],i="^"===t[0],r=["["];i&&r.push("^");for(var o=i?1:0,a=t.length;o<a;++o){var s,l,c=t[o];/\\[bdsw]/i.test(c)?r.push(c):(s=p(c),o+2<a&&"-"===t[o+1]?(l=p(t[o+2]),o+=2):l=s,n.push([s,l]),l<65||122<s||(l<65||90<s||n.push([32|Math.max(65,s),32|Math.min(l,90)]),l<97||122<s||n.push([-33&Math.max(97,s),-33&Math.min(l,122)])))}n.sort(function(e,t){return e[0]-t[0]||t[1]-e[1]});for(var h=[],d=[],o=0;o<n.length;++o){(u=n[o])[0]<=d[1]+1?d[1]=Math.max(d[1],u[1]):h.push(d=u)}for(o=0;o<h.length;++o){var u=h[o];r.push(f(u[0])),u[1]>u[0]&&(u[1]+1>u[0]&&r.push("-"),r.push(f(u[1])))}return r.push("]"),r.join("")}(s):"\\"!==l&&(t[r]=s.replace(/[a-zA-Z]/g,function(e){var t=e.charCodeAt(0);return"["+String.fromCharCode(-33&t,32|t)+"]"}))}return t.join("")}for(var a,s=[],n=0,i=e.length;n<i;++n){if((a=e[n]).global||a.multiline)throw new Error(""+a);s.push("(?:"+o(a)+")")}return new RegExp(s.join("|"),t?"gi":"g")}function m(e,a){var s=/(?:^|\s)nocode(?:\s|$)/,l=[],c=0,h=[],d=0;return function e(t){var n,i=t.nodeType;if(1==i){if(s.test(t.className))return;for(var r=t.firstChild;r;r=r.nextSibling)e(r);var o=t.nodeName.toLowerCase();"br"!==o&&"li"!==o||(l[d]="\n",h[d<<1]=c++,h[d++<<1|1]=t)}else 3!=i&&4!=i||(n=t.nodeValue).length&&(n=a?n.replace(/\r\n?/g,"\n"):n.replace(/[ \t\r\n]+/g," "),l[d]=n,h[d<<1]=c,c+=n.length,h[d++<<1|1]=t)}(e),{sourceCode:l.join("").replace(/\n$/,""),spans:h}}function T(e,t,n,i){var r;t&&(n(r={sourceCode:t,basePos:e}),i.push.apply(i,r.decorations))}var I=/\S/;function A(h,k){var y,x={};!function(){for(var e=h.concat(k),t=[],n={},i=0,r=e.length;i<r;++i){var o=e[i],a=o[3];if(a)for(var s=a.length;0<=--s;)x[a.charAt(s)]=o;var l=o[1],c=""+l;n.hasOwnProperty(c)||(t.push(l),n[c]=null)}t.push(/[\0-\uffff]/),y=g(t)}();var C=k.length;return function e(t){for(var n=t.sourceCode,i=t.basePos,r=[i,S],o=0,a=n.match(y)||[],s={},l=0,c=a.length;l<c;++l){var h,d=a[l],u=s[d],p=void 0;if("string"==typeof u)h=!1;else{var f=x[d.charAt(0)];if(f)p=d.match(f[1]),u=f[0];else{for(var g=0;g<C;++g)if(f=k[g],p=d.match(f[1])){u=f[0];break}p||(u=S)}!(h=5<=u.length&&"lang-"===u.substring(0,5))||p&&"string"==typeof p[1]||(h=!1,u=L),h||(s[d]=u)}var m,A,w,v,b=o;o+=d.length,h?(m=p[1],w=(A=d.indexOf(m))+m.length,p[2]&&(A=(w=d.length-p[2].length)-m.length),v=u.substring(5),T(i+b,d.substring(0,A),e,r),T(i+b+A,m,M(v,m),r),T(i+b+w,d.substring(w),e,r)):r.push(i+b,u)}t.decorations=r}}function w(e){var t=[],n=[];e.tripleQuotedStrings?t.push([u,/^(?:\'\'\'(?:[^\'\\]|\\[\s\S]|\'{1,2}(?=[^\']))*(?:\'\'\'|$)|\"\"\"(?:[^\"\\]|\\[\s\S]|\"{1,2}(?=[^\"]))*(?:\"\"\"|$)|\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$))/,null,"'\""]):e.multiLineStrings?t.push([u,/^(?:\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$)|\`(?:[^\\\`]|\\[\s\S])*(?:\`|$))/,null,"'\"`"]):t.push([u,/^(?:\'(?:[^\\\'\r\n]|\\.)*(?:\'|$)|\"(?:[^\\\"\r\n]|\\.)*(?:\"|$))/,null,"\"'"]),e.verbatimStrings&&n.push([u,/^@\"(?:[^\"]|\"\")*(?:\"|$)/,null]);var i=e.hashComments;i&&(e.cStyleComments?(1<i?t.push([p,/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,null,"#"]):t.push([p,/^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\b|[^\r\n]*)/,null,"#"]),n.push([u,/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h(?:h|pp|\+\+)?|[a-z]\w*)>/,null])):t.push([p,/^#[^\r\n]*/,null,"#"])),e.cStyleComments&&(n.push([p,/^\/\/[^\r\n]*/,null]),n.push([p,/^\/\*[\s\S]*?(?:\*\/|$)/,null]));var r,o,a,s=e.regexLiterals;s&&(a="/(?=[^/*"+(r=1<s?"":"\n\r")+"])(?:[^/\\x5B\\x5C"+r+"]|\\x5C"+(o=r?".":"[\\S\\s]")+"|\\x5B(?:[^\\x5C\\x5D"+r+"]|\\x5C"+o+")*(?:\\x5D|$))+/",n.push(["lang-regex",RegExp("^(?:^^\\.?|[+-]|[!=]=?=?|\\#|%=?|&&?=?|\\(|\\*=?|[+\\-]=|->|\\/=?|::?|<<?=?|>>?>?=?|,|;|\\?|@|\\[|~|{|\\^\\^?=?|\\|\\|?=?|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*("+a+")")]));var l=e.types;l&&n.push(["typ",l]);var c=(""+e.keywords).replace(/^ | $/g,"");c.length&&n.push(["kwd",new RegExp("^(?:"+c.replace(/[\s,]+/g,"|")+")\\b"),null]),t.push([S,/^\s+/,null," \r\n\t "]);var h="^.[^\\s\\w.$@'\"`/\\\\]*";return e.regexLiterals&&(h+="(?!s*/)"),n.push(["lit",/^@[a-z_$][a-z_$@0-9]*/i,null],["typ",/^(?:[@_]?[A-Z]+[a-z][A-Za-z_$@0-9]*|\w+_t\b)/,null],[S,/^[a-z_$][a-z_$@0-9]*/i,null],["lit",new RegExp("^(?:0x[a-f0-9]+|(?:\\d(?:_\\d+)*\\d*(?:\\.\\d*)?|\\.\\d\\+)(?:e[+\\-]?\\d+)?)[a-z]*","i"),null,"0123456789"],[S,/^\\[\s\S]?/,null],[f,new RegExp(h),null]),A(t,n)}var v=w({keywords:[n,r,o,a,s,l,h],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0});function z(e,t,l){for(var c=/(?:^|\s)nocode(?:\s|$)/,h=/\r\n?|\n/,d=e.ownerDocument,n=d.createElement("li");e.firstChild;)n.appendChild(e.firstChild);var i=[n];function u(e){for(;!e.nextSibling;)if(!(e=e.parentNode))return;for(var t,n=function e(t,n){var i=n?t.cloneNode(!1):t,r=t.parentNode;if(r){var o=e(r,1),a=t.nextSibling;o.appendChild(i);for(var s=a;s;s=a)a=s.nextSibling,o.appendChild(s)}return i}(e.nextSibling,0);(t=n.parentNode)&&1===t.nodeType;)n=t;i.push(n)}for(var r=0;r<i.length;++r)!function e(t){var n,i,r,o,a=t.nodeType;if(1!=a||c.test(t.className))3!=a&&4!=a||!l||(i=(n=t.nodeValue).match(h))&&(r=n.substring(0,i.index),t.nodeValue=r,(o=n.substring(i.index+i[0].length))&&t.parentNode.insertBefore(d.createTextNode(o),t.nextSibling),u(t),r||t.parentNode.removeChild(t));else if("br"===t.nodeName)u(t),t.parentNode&&t.parentNode.removeChild(t);else for(var s=t.firstChild;s;s=s.nextSibling)e(s)}(i[r]);t===(0|t)&&i[0].setAttribute("value",t);var o=d.createElement("ol");o.className="linenums";for(var a=Math.max(0,t-1|0)||0,r=0,s=i.length;r<s;++r)(n=i[r]).className="L"+(r+a)%10,n.firstChild||n.appendChild(d.createTextNode(" ")),o.appendChild(n);e.appendChild(o)}var b={};function k(e,t){for(var n=t.length;0<=--n;){var i=t[n];b.hasOwnProperty(i)?E.console&&console.warn("cannot override language handler %s",i):b[i]=e}}function M(e,t){return e&&b.hasOwnProperty(e)||(e=/^\s*</.test(t)?"default-markup":"default-code"),b[e]}function P(e){var t=e.langExtension;try{var n=m(e.sourceNode,e.pre),i=n.sourceCode;e.sourceCode=i,e.spans=n.spans,e.basePos=0,M(t,i)(e),function(e){var t,n,i=(i=/\bMSIE\s(\d+)/.exec(navigator.userAgent))&&+i[1]<=8,r=/\n/g,o=e.sourceCode,a=o.length,s=0,l=e.spans,c=l.length,h=0,d=e.decorations,u=d.length,p=0;for(d[u]=a,n=t=0;n<u;)d[n]!==d[n+2]?(d[t++]=d[n++],d[t++]=d[n++]):n+=2;for(u=t,n=t=0;n<u;){for(var f=d[n],g=d[n+1],m=n+2;m+2<=u&&d[m+1]===g;)m+=2;d[t++]=f,d[t++]=g,n=m}u=d.length=t;var A,w=e.sourceNode;w&&(A=w.style.display,w.style.display="none");try{for(;h<c;){l[h];var v,b,k,y,x=l[h+2]||a,C=d[p+2]||a,m=Math.min(x,C),S=l[h+1];1!==S.nodeType&&(v=o.substring(s,m))&&(i&&(v=v.replace(r,"\r")),S.nodeValue=v,(k=(b=S.ownerDocument).createElement("span")).className=d[p+1],(y=S.parentNode).replaceChild(k,S),k.appendChild(S),s<x&&(l[h+1]=S=b.createTextNode(o.substring(m,x)),y.insertBefore(S,k.nextSibling))),x<=(s=m)&&(h+=2),C<=s&&(p+=2)}}finally{w&&(w.style.display=A)}}(e)}catch(e){E.console&&console.log(e&&e.stack||e)}}function y(e,t,n){var i=document.createElement("div");return i.innerHTML="<pre>"+e+"</pre>",i=i.firstChild,n&&z(i,n,!0),P({langExtension:t,numberLines:n,sourceNode:i,pre:1}),i.innerHTML}function x(w,e){var t=e||document.body,v=t.ownerDocument||document;function n(e){return t.getElementsByTagName(e)}for(var i=[n("pre"),n("code"),n("xmp")],b=[],r=0;r<i.length;++r)for(var o=0,a=i[r].length;o<a;++o)b.push(i[r][o]);i=null;var k=Date;k.now||(k={now:function(){return+new Date}});var y=0,x=/\blang(?:uage)?-([\w.]+)(?!\S)/,C=/\bprettyprint\b/,S=/\bprettyprinted\b/,L=/pre|xmp/i,T=/^code$/i,M=/^(?:pre|code|xmp)$/i,D={};!function e(){for(var t=E.PR_SHOULD_USE_CONTINUATION?k.now()+250:1/0;y<b.length&&k.now()<t;y++){for(var n=b[y],i=D,r=n;r=r.previousSibling;){var o=r.nodeType,a=(7===o||8===o)&&r.nodeValue;if(a?!/^\??prettify\b/.test(a):3!==o||/\S/.test(r.nodeValue))break;if(a){i={},a.replace(/\b(\w+)=([\w:.%+-]+)/g,function(e,t,n){i[t]=n});break}}var s=n.className;if((i!==D||C.test(s))&&!S.test(s)){for(var l,c,h,d,u,p,f,g=!1,m=n.parentNode;m;m=m.parentNode){var A=m.tagName;if(M.test(A)&&m.className&&C.test(m.className)){g=!0;break}}g||(n.className+=" prettyprinted",(c=i.lang)||(!(c=s.match(x))&&(l=function(e){for(var t=void 0,n=e.firstChild;n;n=n.nextSibling)var i=n.nodeType,t=1===i?t?e:n:3===i&&I.test(n.nodeValue)?e:t;return t===e?void 0:t}(n))&&T.test(l.tagName)&&(c=l.className.match(x)),c=c&&c[1]),p=L.test(n.tagName)?1:(h=n.currentStyle,d=v.defaultView,(u=h?h.whiteSpace:d&&d.getComputedStyle?d.getComputedStyle(n,null).getPropertyValue("white-space"):0)&&"pre"===u.substring(0,3)),(f="true"===(f=i.linenums)||+f)||(f=!!(f=s.match(/\blinenums\b(?::(\d+))?/))&&(!f[1]||!f[1].length||+f[1])),f&&z(n,f,p),P({langExtension:c,sourceNode:n,numberLines:f,pre:p}))}}y<b.length?setTimeout(e,250):"function"==typeof w&&w()}()}k(v,["default-code"]),k(A([],[[S,/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],[p,/^<\!--[\s\S]*?(?:-\->|$)/],["lang-",/^<\?([\s\S]+?)(?:\?>|$)/],["lang-",/^<%([\s\S]+?)(?:%>|$)/],[f,/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\s\S]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\s\S]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),k(A([[S,/^[\s]+/,null," \t\r\n"],["atv",/^(?:\"[^\"]*\"?|\'[^\']*\'?)/,null,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w.:-]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^>\'\"\s]*(?:[^>\'\"\s\/]|\/(?=\s)))/],[f,/^[=<>\/]+/],["lang-js",/^on\w+\s*=\s*\"([^\"]+)\"/i],["lang-js",/^on\w+\s*=\s*\'([^\']+)\'/i],["lang-js",/^on\w+\s*=\s*([^\"\'>\s]+)/i],["lang-css",/^style\s*=\s*\"([^\"]+)\"/i],["lang-css",/^style\s*=\s*\'([^\']+)\'/i],["lang-css",/^style\s*=\s*([^\"\'>\s]+)/i]]),["in.tag"]),k(A([],[["atv",/^[\s\S]+/]]),["uq.val"]),k(w({keywords:n,hashComments:!0,cStyleComments:!0,types:d}),["c","cc","cpp","cxx","cyc","m"]),k(w({keywords:"null,true,false"}),["json"]),k(w({keywords:r,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:d}),["cs"]),k(w({keywords:i,cStyleComments:!0}),["java"]),k(w({keywords:h,hashComments:!0,multiLineStrings:!0}),["bash","bsh","csh","sh"]),k(w({keywords:s,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py","python"]),k(w({keywords:a,hashComments:!0,multiLineStrings:!0,regexLiterals:2}),["perl","pl","pm"]),k(w({keywords:l,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb","ruby"]),k(w({keywords:o,cStyleComments:!0,regexLiterals:!0}),["javascript","js"]),k(w({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,throw,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),k(w({keywords:c,cStyleComments:!0,multilineStrings:!0}),["rc","rs","rust"]),k(A([],[[u,/^[\s\S]+/]]),["regex"]);var C=E.PR={createSimpleLexer:A,registerLangHandler:k,sourceDecorator:w,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:p,PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:S,PR_PUNCTUATION:f,PR_SOURCE:L,PR_STRING:u,PR_TAG:"tag",PR_TYPE:"typ",prettyPrintOne:IN_GLOBAL_SCOPE?E.prettyPrintOne=y:prettyPrintOne=y,prettyPrint:prettyPrint=IN_GLOBAL_SCOPE?E.prettyPrint=x:prettyPrint=x};"function"==typeof define&&define.amd&&define("google-code-prettify",[],function(){return C})}(),function(e){"function"==typeof require&&"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=e:"function"==typeof define?define.amd||define(["jquery"],e):window.editormd=e()}(function(){var b="undefined"!=typeof jQuery?jQuery:Zepto;if(void 0!==b){var k=function e(t,n){return new e.fn.init(t,n)};k.title=k.$name="Editor.md",k.version="2.0.0",k.homePage="https://pandao.github.io/editor.md/",k.classPrefix="editormd-",k.toolbarModes={full:["undo","redo","|","bold","del","italic","quote","ucwords","uppercase","lowercase","|","h1","h2","h3","h4","h5","h6","|","list-ul","list-ol","hr","|","link","reference-link","image","file","code","preformatted-text","code-block","table","datetime","emoji","html-entities","pagebreak","|","goto-line","watch","preview","fullscreen","clear","|","help","info","options"],simple:["undo","redo","|","bold","del","italic","quote","table","image","file","|","watch","preview","fullscreen","|","help","options"],mini:["undo","redo","|","image","preview","help","options"]},k.defaults={mode:"gfm",name:"",value:"",theme:"",editorTheme:"default",previewTheme:"",markdown:"",appendMarkdown:"",width:"100%",height:"100%",path:"./lib/",pluginPath:"",delay:3e3,autoLoadModules:!0,watch:!1,placeholder:"Enjoy Markdown! use $e^x$ in Latex.",gotoLine:!0,codeFold:!1,autoHeight:!1,autoFocus:!1,autoCloseTags:!1,searchReplace:!0,syncScrolling:"single",readOnly:!1,tabSize:4,indentUnit:4,lineNumbers:!0,lineWrapping:!1,autoCloseBrackets:!0,showTrailingSpace:!0,matchBrackets:!0,indentWithTabs:!0,styleSelectedText:!0,matchWordHighlight:!0,styleActiveLine:!0,dialogLockScreen:!1,dialogShowMask:!0,dialogDraggable:!0,dialogMaskBgColor:"#fff",dialogMaskOpacity:.1,fontSize:"14px",saveHTMLToTextarea:!0,disabledKeyMaps:[],keymapMode:"default",onload:function(){},onresize:function(){},onchange:function(){},onwatch:null,onunwatch:null,onpreviewing:function(){},onpreviewed:function(){},onfullscreen:function(){},onfullscreenExit:function(){},onscroll:function(){},onpreviewscroll:function(){},imageUpload:!1,fileUpload:!1,imageFormats:["jpg","jpeg","gif","png","bmp","webp"],uploadURL:"",crossDomainUpload:!1,uploadCallbackURL:"",imageLazyLoad:!1,imageLazyLoadLoadingICON:"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",toc:!0,tocm:!1,tocTitle:"",tocDropdown:!1,tocContainer:"",tocStartLevel:1,htmlDecode:"style,script,iframe",pageBreak:!1,atLink:!1,emailLink:!0,taskList:!0,emoji:!1,tex:!0,texHostUrl:"",texTargetUrl:"",flowChart:!1,sequenceDiagram:!1,previewCodeHighlight:!0,toolbar:!0,toolbarAutoFixed:!1,toolbarIcons:"simple",toolbarTitles:{},toolbarHandlers:{ucwords:function(){return k.toolbarHandlers.ucwords},lowercase:function(){return k.toolbarHandlers.lowercase}},toolbarCustomIcons:{lowercase:'<a href="javascript:;" title="Lowercase" unselectable="on"><i class="fa" name="lowercase" style="font-size:24px;margin-top: -10px;">a</i></a>',ucwords:'<a href="javascript:;" title="ucwords" unselectable="on"><i class="fa" name="ucwords" style="font-size:20px;margin-top: -3px;">Aa</i></a>'},toolbarIconsClass:{undo:"fa-undo",redo:"fa-repeat",bold:"fa-bold",del:"fa-strikethrough",italic:"fa-italic",quote:"fa-quote-left",uppercase:"fa-font",h1:k.classPrefix+"bold",h2:k.classPrefix+"bold",h3:k.classPrefix+"bold",h4:k.classPrefix+"bold",h5:k.classPrefix+"bold",h6:k.classPrefix+"bold","list-ul":"fa-list-ul","list-ol":"fa-list-ol",hr:"fa-minus",link:"fa-link","reference-link":"fa-anchor",image:"fa-picture-o",file:"fa-upload",code:"fa-code","preformatted-text":"fa-file-code-o","code-block":"fa-file-code-o",table:"fa-table",datetime:"fa-clock-o",emoji:"fa-smile-o","html-entities":"fa-copyright",pagebreak:"fa-newspaper-o","goto-line":"fa-terminal",watch:"fa-eye-slash",unwatch:"fa-eye",preview:"fa-desktop",search:"fa-search",fullscreen:"fa-arrows-alt",clear:"fa-eraser",help:"fa-question-circle",info:"fa-info-circle",options:"fa-gear"},toolbarIconTexts:{},lang:{name:"zh-cn",description:"开源在线Markdown编辑器<br/>Open source online Markdown editor.",tocTitle:"目录",toolbar:{undo:"撤销（Ctrl+Z）",redo:"重做（Ctrl+Y）",bold:"粗体",del:"删除线",italic:"斜体",quote:"引用",ucwords:"将每个单词首字母转成大写",uppercase:"将所选转换成大写",lowercase:"将所选转换成小写",h1:"标题1",h2:"标题2",h3:"标题3",h4:"标题4",h5:"标题5",h6:"标题6","list-ul":"无序列表","list-ol":"有序列表",hr:"横线",link:"链接","reference-link":"引用链接",image:"添加图片",file:"上传附件",code:"行内代码","preformatted-text":"预格式文本 / 代码块（缩进风格）","code-block":"代码块（多语言风格）",table:"添加表格",datetime:"日期时间",emoji:"Emoji表情","html-entities":"HTML实体字符",pagebreak:"插入分页符","goto-line":"跳转到行",watch:"关闭实时预览",unwatch:"开启实时预览",preview:"全窗口预览HTML",fullscreen:"全屏（按ESC还原）",clear:"清空",search:"搜索",help:"使用帮助",info:"关于"+k.title,options:"编辑器配置"},buttons:{enter:"确定",cancel:"取消",close:"关闭"},dialog:{link:{title:"添加链接",url:"链接地址",urlTitle:"链接标题",urlEmpty:"错误：请填写链接地址。"},referenceLink:{title:"添加引用链接",name:"引用名称",url:"链接地址",urlId:"链接ID",urlTitle:"链接标题",nameEmpty:"错误：引用链接的名称不能为空。",idEmpty:"错误：请填写引用链接的ID。",urlEmpty:"错误：请填写引用链接的URL地址。"},image:{title:"添加图片",url:"图片地址",link:"图片链接",alt:"图片描述",uploadButton:"本地上传",imageURLEmpty:"错误：图片地址不能为空。",uploadFileEmpty:"错误：上传的图片不能为空。",formatNotAllowed:"错误：只允许上传图片文件，允许上传的图片文件格式有：",imageOverSize:"错误：只允许上传16MB及以下的图片文件。"},file:{title:"上传附件",url:"附件地址",alt:"附件描述",uploadButton:"本地上传",fileURLEmpty:"错误：附件地址不能唯恐。",uploadFileEmpty:"错误：上传的附件不能唯恐。"},preformattedText:{title:"添加预格式文本或代码块",emptyAlert:"错误：请填写预格式文本或代码的内容。"},codeBlock:{title:"添加代码块",selectLabel:"代码语言：",selectDefaultText:"请选择代码语言",otherLanguage:"其他语言",unselectedLanguageAlert:"错误：请选择代码所属的语言类型。",codeEmptyAlert:"错误：请填写代码内容。"},htmlEntities:{title:"HTML 实体字符"},help:{title:"使用帮助"}}}},k.classNames={tex:k.classPrefix+"tex"},k.dialogZindex=99999,k.$katex=null,k.$marked=null,k.$CodeMirror=null,k.$prettyPrint=null;var p,d,o=500;k.prototype=k.fn={state:{watching:!1,loaded:!1,preview:!1,fullscreen:!1},init:function(e,t){t=t||{},"object"===(void 0===e?"undefined":_typeof(e))&&(t=e);var n=this.classPrefix=k.classPrefix,i=this.settings=b.extend(!0,k.defaults,t);this.uploadImg=new Array,this.uploadFile=new Array,e="object"===(void 0===e?"undefined":_typeof(e))?i.id:e;var r=this.editor=b("#"+e);this.id=e,this.lang=i.lang;var o=this.classNames={textarea:{html:n+"html-textarea",markdown:n+"markdown-textarea"}};i.pluginPath=""===i.pluginPath?i.path+"../plugins/":i.pluginPath,this.state.watching=!!i.watch,r.hasClass("editormd")||r.addClass("editormd"),r.css({width:"number"==typeof i.width?i.width+"px":i.width,height:"number"==typeof i.height?i.height+"px":i.height}),i.autoHeight&&r.css("height","auto");var a=this.markdownTextarea=r.children("textarea");a.length<1&&(r.append("<textarea></textarea>"),a=this.markdownTextarea=r.children("textarea")),a.addClass(o.textarea.markdown).attr("placeholder",i.placeholder),void 0!==a.attr("name")&&""!==a.attr("name")||a.attr("name",""!==i.name?i.name:e+"-markdown-doc");var s=[i.readOnly?"":'<a href="javascript:;" class="fa fa-close '+n+'preview-close-btn"></a>',i.saveHTMLToTextarea?'<textarea class="'+o.textarea.html+'" name="'+e+'-html-code"></textarea>':"",'<div class="'+n+'preview"><div class="markdown-body '+n+'preview-container"></div></div>','<div class="'+n+'container-mask" style="display:block;"></div>','<div class="'+n+'mask"></div>'].join("\n");r.append(s).addClass(n+"vertical"),""!==i.theme&&r.addClass(n+"theme-"+i.theme),this.mask=r.children("."+n+"mask"),this.containerMask=r.children("."+n+"container-mask"),""!==i.markdown&&a.val(i.markdown),""!==i.appendMarkdown&&a.val(a.val()+i.appendMarkdown),this.htmlTextarea=r.children("."+o.textarea.html),this.preview=r.children("."+n+"preview"),this.previewContainer=this.preview.children("."+n+"preview-container"),""!==i.previewTheme&&this.preview.addClass(n+"preview-theme-"+i.previewTheme),"function"==typeof define&&define.amd&&i.searchReplace&&!i.readOnly&&(k.loadCSS(i.path+"codemirror/addon/dialog/dialog"),k.loadCSS(i.path+"codemirror/addon/search/matchesonscrollbar")),"function"==typeof define&&define.amd||!i.autoLoadModules?("undefined"!=typeof CodeMirror&&(k.$CodeMirror=CodeMirror),"undefined"!=typeof marked&&(k.$marked=marked),this.setCodeMirror().setToolbar().loadedDisplay()):this.loadQueues();var l,c,h,d;return l=this,(d=document.getElementById(l.id))&&(c=function(e){var t=(t=e.type.split("/"))[t.length-1];-1!==b.inArray(t,l.settings.imageFormats)?i.imageUpload&&(l.uploadImg.push(e),l.executePlugin("imageDialog","image-dialog/image-dialog")):i.fileUpload&&(l.uploadFile.push(e),l.executePlugin("fileDialog","file-dialog/file-dialog"))},d.addEventListener("paste",function(e){var t=(e.clipboardData||window.clipboardData).items,n=null;if(t&&t.length)for(var i=0;!n&&i<t.length;++i)n=t[i].getAsFile();n?c(n):console.log("当前浏览器不支持")}),(h=document.getElementById(l.id)).addEventListener("dragover",function(e){e.preventDefault(),e.stopPropagation()}),h.addEventListener("dragenter",function(e){e.preventDefault(),e.stopPropagation()}),h.addEventListener("drop",function(e){e.preventDefault(),e.stopPropagation();var t=(this.files||e.dataTransfer.files)[0];t?c(t):console.log("当前浏览器不支持a")})),this},loadQueues:function(){var t=this,n=this.settings,i=n.path;return k.loadCSS(i+"codemirror/codemirror.min"),n.searchReplace&&!n.readOnly&&(k.loadCSS(i+"codemirror/addon/dialog/dialog"),k.loadCSS(i+"codemirror/addon/search/matchesonscrollbar")),n.codeFold&&k.loadCSS(i+"codemirror/addon/fold/foldgutter"),k.loadScript(i+"codemirror/codemirror.min",function(){k.$CodeMirror=CodeMirror,k.loadScript(i+"codemirror/modes.min",function(){k.loadScript(i+"codemirror/addons.min",function(){k.loadScript(i+"../js/plugins.min",function(){function e(){if(t.setCodeMirror(),"gfm"!==n.mode&&"markdown"!==n.mode)return t.loadedDisplay(),0;t.setToolbar(),k.$marked=marked,t.loadedDisplay()}n.tex&&k.loadMathJax(i),"default"!==n.keymapMode?k.loadScript(i+"codemirror/keymap/"+n.keymapMode,function(){e()}):e()})})})}),this},setTheme:function(e){var t=this.editor,n=this.settings.theme,i=this.classPrefix+"theme-";return t.removeClass(i+n).addClass(i+e),this.settings.theme=e,this},setEditorTheme:function(e){var t=this.settings;return"default"!==(t.editorTheme=e)&&k.loadCSS(t.path+"codemirror/theme/"+t.editorTheme),this.cm.setOption("theme",e),this},setCodeMirrorTheme:function(e){return this.setEditorTheme(e),this},setPreviewTheme:function(e){var t=this.preview,n=this.settings.previewTheme,i=this.classPrefix+"preview-theme-";return t.removeClass(i+n).addClass(i+e),this.settings.previewTheme=e,this},setKeymapMode:function(e){var t=this,n=this.settings;return"default"!==(n.keymapMode=e)?k.loadScript(n.path+"codemirror/keymap/"+n.keymapMode,function(){t.cm.setOption("keyMap",e)}):t.cm.setOption("keyMap",e),this},setCodeMirror:function(){var e=this.settings,t=this.editor;"default"!==e.editorTheme&&k.loadCSS(e.path+"codemirror/theme/"+e.editorTheme);var n={mode:e.mode,theme:e.editorTheme,tabSize:e.tabSize,dragDrop:!0,autofocus:e.autoFocus,autoCloseTags:e.autoCloseTags,readOnly:!!e.readOnly&&"nocursor",indentUnit:e.indentUnit,lineNumbers:e.lineNumbers,lineWrapping:e.lineWrapping,extraKeys:{"Ctrl-Q":function(e){e.foldCode(e.getCursor())}},foldGutter:e.codeFold,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],matchBrackets:e.matchBrackets,indentWithTabs:e.indentWithTabs,styleActiveLine:e.styleActiveLine,styleSelectedText:e.styleSelectedText,autoCloseBrackets:e.autoCloseBrackets,showTrailingSpace:e.showTrailingSpace,highlightSelectionMatches:!!e.matchWordHighlight&&{showToken:"onselected"!==e.matchWordHighlight&&/\w/},scrollPastEnd:!0,smartIndent:!1};return this.codeEditor=this.cm=k.$CodeMirror.fromTextArea(this.markdownTextarea[0],n),this.codeMirror=this.cmElement=t.children(".CodeMirror"),""!==e.value&&this.cm.setValue(e.value),this.codeMirror.css({fontSize:e.fontSize,width:e.watch?"50%":"100%"}),e.autoHeight&&(this.codeMirror.css("height","auto"),this.cm.setOption("viewportMargin",1/0)),e.lineNumbers||this.codeMirror.find(".CodeMirror-gutters").css("border-right","none"),this},getCodeMirrorOption:function(e){return this.cm.getOption(e)},setCodeMirrorOption:function(e,t){return this.cm.setOption(e,t),this},addKeyMap:function(e,t){return this.cm.addKeyMap(e,t),this},removeKeyMap:function(e){return this.cm.removeKeyMap(e),this},gotoLine:function(e){var t=this.settings;if(!t.gotoLine)return this;var n=this.cm,i=(this.editor,n.lineCount());this.preview;if("string"==typeof e&&("last"===e&&(e=i),"first"===e&&(e=1)),"number"!=typeof e)return alert("Error: The line number must be an integer."),this;if(i<(e=parseInt(e)-1))return alert("Error: The line number range 1-"+i),this;n.setCursor({line:e,ch:0});var r=n.getScrollInfo().clientHeight,o=n.charCoords({line:e,ch:0},"local");return n.scrollTo(null,(o.top+o.bottom-r)/2),t.watch&&this.syncPreviewScrolling(),n.focus(),this},extend:function(e,t){return void 0!==t&&("function"==typeof t&&(t=b.proxy(t,this)),this[e]=t),"object"===_typeof(e)&&void 0===e.length&&b.extend(!0,this,e),this},set:function(e,t){return void 0!==t&&"function"==typeof t&&(t=b.proxy(t,this)),this[e]=t,this},config:function(e,t){var n=this.settings;return"object"===(void 0===e?"undefined":_typeof(e))&&(n=b.extend(!0,n,e)),"string"==typeof e&&(n[e]=t),this.settings=n,this.recreate(),this},on:function(e,t){var n=this.settings;return void 0!==n["on"+e]&&(n["on"+e]=b.proxy(t,this)),this},off:function(e){var t=this.settings;return void 0!==t["on"+e]&&(t["on"+e]=function(){}),this},showToolbar:function(e){var t=this.settings;return t.readOnly||(t.toolbar&&(this.toolbar.length<1||""===this.toolbar.find("."+this.classPrefix+"menu").html())&&this.setToolbar(),t.toolbar=!0,this.toolbar.show(),this.resize(),b.proxy(e||function(){},this)()),this},hideToolbar:function(e){return this.settings.toolbar=!1,this.toolbar.hide(),this.resize(),b.proxy(e||function(){},this)(),this},setToolbarAutoFixed:function(e){var t=this.state,n=this.editor,i=this.toolbar,r=this.settings;void 0!==e&&(r.toolbarAutoFixed=e);return!t.fullscreen&&!t.preview&&r.toolbar&&r.toolbarAutoFixed&&b(window).bind("scroll",function(){var e=b(window),t=e.scrollTop();if(!r.toolbarAutoFixed)return!1;10<t-n.offset().top&&t<n.height()?i.css({position:"fixed",width:n.width()+"px",left:(e.width()-n.width())/2+"px"}):i.css({position:"absolute",width:"100%",left:0})}),this},setToolbar:function(){var e=this.settings;if(e.readOnly)return this;var t,n=this.editor,i=(this.preview,this.classPrefix),r=this.toolbar=n.children("."+i+"toolbar");if(e.toolbar&&r.length<1&&(t='<div class="'+i+'toolbar"><div class="'+i+'toolbar-container"><ul class="'+i+'menu"></ul></div></div>',n.append(t),r=this.toolbar=n.children("."+i+"toolbar")),!e.toolbar)return r.hide(),this;r.show();for(var o="function"==typeof e.toolbarIcons?e.toolbarIcons():"string"==typeof e.toolbarIcons?k.toolbarModes[e.toolbarIcons]:e.toolbarIcons,a=r.find("."+this.classPrefix+"menu"),s="",l=!1,c=0,h=o.length;c<h;c++){var d,u,p,f,g,m,A=o[c];"||"===A?l=!0:"|"===A?s+='<li class="divider" unselectable="on">|</li>':(d=/h(\d)/.test(A),"watch"!==(u=A)||e.watch||(u="unwatch"),p=void 0===(p=e.lang.toolbar[u])?"":p,f=void 0===(f=e.toolbarIconTexts[u])?"":f,g=void 0===(g=e.toolbarIconsClass[u])?"":g,m=l?'<li class="pull-right">':"<li>",void 0!==e.toolbarCustomIcons[A]&&"function"!=typeof e.toolbarCustomIcons[A]?m+=e.toolbarCustomIcons[A]:(m+='<a href="javascript:;" title="'+p+'" unselectable="on">',m+='<i class="fa '+g+'" name="'+A+'" unselectable="on">'+(d?A.toUpperCase():""===g?f:"")+"</i>",m+="</a>"),m+="</li>",s=l?m+s:s+m)}a.html(s);var w=a.find("li.pull-right").detach();return w&&w.appendTo(a),a.find('[title="Lowercase"]').attr("title",e.lang.toolbar.lowercase),a.find('[title="ucwords"]').attr("title",e.lang.toolbar.ucwords),this.setToolbarHandler(),this.setToolbarAutoFixed(),this},dialogLockScreen:function(){return b.proxy(k.dialogLockScreen,this)(),this},dialogShowMask:function(e){return b.proxy(k.dialogShowMask,this)(e),this},getToolbarHandles:function(e){var t=this.toolbarHandlers=k.toolbarHandlers;return e&&void 0!==toolbarIconHandlers[e]?t[e]:t},setToolbarHandler:function(){var o=this,a=this.settings;if(!a.toolbar||a.readOnly)return this;var e=this.toolbar,s=this.cm,t=this.classPrefix,n=this.toolbarIcons=e.find("."+t+"menu > li > a"),l=this.getToolbarHandles();return n.bind(k.mouseOrTouch("click","touchend"),function(e){var t=b(this).children(".fa"),n=t.attr("name"),i=s.getCursor(),r=s.getSelection();if(""!==n)return o.activeIcon=t,void 0!==l[n]?b.proxy(l[n],o)(s):void 0!==a.toolbarHandlers[n]&&b.proxy(a.toolbarHandlers[n],o)(s,t,i,r),"link"!==n&&"reference-link"!==n&&"image"!==n&&"code-block"!==n&&"preformatted-text"!==n&&"watch"!==n&&"preview"!==n&&"search"!==n&&"fullscreen"!==n&&"info"!==n&&s.focus(),!1}),this},createDialog:function(e){return b.proxy(k.createDialog,this)(e)},createInfoDialog:function(){var e=this,t=this.editor,n=this.classPrefix,i=['<div class="'+n+"dialog "+n+'dialog-info" style="">','<div class="'+n+'dialog-container">','<h1><i class="editormd-logo editormd-logo-lg editormd-logo-color"></i> '+k.title+"<small>v"+k.version+"</small></h1>","<p>"+this.lang.description+"</p>",'<p style="margin: 10px 0 20px 0;"><a href="'+k.homePage+'" target="_blank">'+k.homePage+' <i class="fa fa-external-link"></i></a></p>','<p style="font-size: 0.85em;">Copyright &copy; 2020 <a href="https://github.com/pandao" target="_blank" class="hover-link">Pandao</a>, The <a href="https://github.com/pandao/editor.md/blob/master/LICENSE" target="_blank" class="hover-link">MIT</a> License.</p>',"</div>",'<a href="javascript:;" class="fa fa-close '+n+'dialog-close"></a>',"</div>"].join("\n");t.append(i);var r=this.infoDialog=t.children("."+n+"dialog-info");return r.find("."+n+"dialog-close").bind(k.mouseOrTouch("click","touchend"),function(){e.hideInfoDialog()}),r.css("border",k.isIE8?"1px solid #ddd":"").css("z-index",k.dialogZindex).show(),this.infoDialogPosition(),this},infoDialogPosition:function(){function e(){t.css({top:(b(window).height()-t.height())/2+"px",left:(b(window).width()-t.width())/2+"px"})}var t=this.infoDialog;return e(),b(window).resize(e),this},showInfoDialog:function(){b("html,body").css("overflow-x","hidden");var e=this.editor,t=this.settings,n=this.infoDialog=e.children("."+this.classPrefix+"dialog-info");return n.length<1&&this.createInfoDialog(),this.lockScreen(!0),this.mask.css({opacity:t.dialogMaskOpacity,backgroundColor:t.dialogMaskBgColor}).show(),n.css("z-index",k.dialogZindex).show(),this.infoDialogPosition(),this},hideInfoDialog:function(){return b("html,body").css("overflow-x",""),this.infoDialog.hide(),this.mask.hide(),this.lockScreen(!1),this},lockScreen:function(e){return k.lockScreen(e),this.resize(),this},recreate:function(){var e=this.editor,t=this.settings;return this.codeMirror.remove(),this.setCodeMirror(),t.readOnly||(0<e.find(".editormd-dialog").length&&e.find(".editormd-dialog").remove(),t.toolbar&&(this.getToolbarHandles(),this.setToolbar())),this.loadedDisplay(!0),this},previewCodeHighlight:function(){var e=this.settings,t=this.previewContainer;return e.previewCodeHighlight&&(t.find("pre").addClass("snippet prettyprint linenums"),void 0!==prettyPrint&&(prettyPrint(),void 0!==window.Clipboard&&window.Clipboard.render(e.path))),this},mathjaxRender:function(){return null===p||MathJax.typeset&&MathJax.typeset(),this},flowChartAndSequenceDiagramRender:function(){var e=this.settings,t=this.previewContainer;return k.isIE8||(e.flowChart&&t.find(".flowchart").flowChart(),e.sequenceDiagram&&t.find(".sequence-diagram").sequenceDiagram({theme:"simple"}),this.syncPreviewScrolling()),this},registerKeyMaps:function(e){var t=this,n=this.cm,i=this.settings,r=k.toolbarHandlers,o=i.disabledKeyMaps;if(e=e||null)for(var a in e){b.inArray(a,o)<0&&(e[a],n.addKeyMap(e))}else{for(var s in d=[],k.keyMaps){var l,c=k.keyMaps[s],h="string"==typeof c?b.proxy(r[c],t):b.proxy(c,t);b.inArray(s,["F9","F10","F11"])<0&&b.inArray(s,o)<0&&((l={})[s]=h,n.addKeyMap(l),d.push(l))}b(window).keydown(function(e){if(b.inArray({120:"F9",121:"F10",122:"F11"}[e.keyCode],o)<0)switch(e.keyCode){case 120:return b.proxy(r.watch,t)(),!1;case 121:return b.proxy(r.preview,t)(),!1;case 122:return b.proxy(r.fullscreen,t)(),!1}})}return this},unregisterKeyMaps:function(){var e=this.cm;if(d)for(var t in d)e.removeKeyMap(d[t]);return d=null,this},syncPreviewScrolling:function(){var e=this.cm,t=this.preview,n=e.getScrollInfo(),i=e.coordsChar(n,"local"),r=t.find("* [data-source-line]"),o=[];r.each(function(){o.push(b(this).data("source-line"))});for(var a=i.line,s=!1,l=!1,c=0;c<o.length;c++){if(!(o[c]<a)){l=c;break}s=c}var h=0;!1!==s&&(h=o[s]);var d=e.lastLine();!1!==l&&(d=o[l]);var u=0;h!=d&&(u=(a-h)/(d-h));var p=0;!1!==s&&(p=t.find('[data-source-line="'+h+'"]').get(0).offsetTop);var f=t.get(0).scrollHeight;!1!==l&&(f=t.find('[data-source-line="'+d+'"]').get(0).offsetTop);var g=p+(f-p)*u;return t.scrollTop(g),this},bindScrollEvent:function(){var u=this,p=this.cm,f=this.preview,g=this.settings,e=this.codeMirror,t=k.mouseOrTouch;if(!g.syncScrolling)return this;function n(){e.find(".CodeMirror-scroll").bind(t("scroll","touchmove"),function(e){u.syncPreviewScrolling(),b.proxy(g.onscroll,u)(e)})}function i(){e.find(".CodeMirror-scroll").unbind(t("scroll","touchmove"))}function r(){f.bind(t("scroll","touchmove"),function(e){if(u.state.preview)b.proxy(g.onpreviewscroll,u)(e);else{for(var t=b(this).height(),n=f.scrollTop(),i=!1,r=!1,o=f.find("* [data-source-line]"),a=0;a<o.length;a++){if(!(o[a].offsetTop<n)){r=a;break}i=a}var s=0;!1!==i&&(s=o[i].offsetTop);var l=t;!1!==r&&(l=o[r].offsetTop);var c=s!=l?(n-s)/(l-s):0;!1!==i&&(s=o[i].attributes["data-source-line"].value),!1!==r&&(l=o[r].attributes["data-source-line"].value);var h=p.charCoords({line:s,ch:0},"local"),d=(p.charCoords({line:l,ch:0},"local").top-h.top)*c+h.top;p.scrollTo(null,d),b.proxy(g.onpreviewscroll,u)(e)}})}function o(){f.unbind(t("scroll","touchmove"))}return e.bind({mouseover:n,mouseout:i,touchstart:n,touchend:i}),"single"===g.syncScrolling||f.bind({mouseover:r,mouseout:o,touchstart:r,touchend:o}),this},bindTocScrollEvent:function(e){var h=this.cm,d=this.preview,t=this.settings,u=this.previewContainer;return t.syncScrolling&&e.find("a").on("click",function(){var e=b(this),t=e.attr("href"),n=(e.attr("level"),e.attr("lineIdx"));d.scrollTop(0);var i=d.offset().top,r=t.substring(1),o=u.find('a[name="'+r+'"]'),a=o;n&&1<o.length&&o.each(function(){if(b(this).parent().attr("data-source-line")==n)return a=b(this),!1});var s=a.offset().top-i;d.scrollTop(s);var l=a.parent().attr("data-source-line"),c=h.charCoords({line:l,ch:0},"local");return h.scrollTo(null,c.top),!1}),this},bindChangeEvent:function(){var i=this,e=this.cm,r=this.settings;return r.syncScrolling&&e.on("change",function(e,t){r.watch&&i.previewContainer.css("padding",r.autoHeight?"20px 20px 50px 40px":"20px"),p&&(clearTimeout(p),p=void 0);var n=o;n>r.delay&&(n=r.delay),n<10&&(n=10),p=setTimeout(function(){p=void 0;var e=(new Date).getTime();i.save();var t=(new Date).getTime();o=4*(t-e)},n)}),this},bindVimModeChangeEvent:function(){var t=this,e=this.cm,n=(this.state,this.settings);return e.on("vim-mode-change",function(e){"insert"===e.mode?d||t.registerKeyMaps():t.unregisterKeyMaps()}),"default"!==n.keymapMode&&t.cm.setOption("keyMap",n.keymapMode),this},loadedDisplay:function(e){e=e||!1;var t=this,n=this.editor,i=this.preview,r=this.settings;return this.containerMask.hide(),this.save(),r.watch&&i.show(),n.data("oldWidth",n.width()).data("oldHeight",n.height()),this.resize(),b(window).resize(function(){t.resize()}),this.bindScrollEvent().bindChangeEvent().bindVimModeChangeEvent(),e||b.proxy(r.onload,this)(),this.state.loaded=!0,this},width:function(e){return this.editor.css("width","number"==typeof e?e+"px":e),this.resize(),this},height:function(e){return this.editor.css("height","number"==typeof e?e+"px":e),this.resize(),this},resize:function(e,t){e=e||null,t=t||null;var n,i=this.state,r=this.editor,o=this.preview,a=this.toolbar,s=this.settings,l=this.codeMirror;return e&&r.css("width","number"==typeof e?e+"px":e),!s.autoHeight||i.fullscreen||i.preview?(t&&r.css("height","number"==typeof t?t+"px":t),i.fullscreen&&r.height(b(window).height()-10),s.toolbar&&!s.readOnly?l.css("margin-top",a.height()+1).height(r.height()-a.height()):l.css("margin-top",0).height(r.height())):(r.css("height","auto"),l.css("height","auto")),s.watch?(l.width(r.width()/2),o.width(i.preview?r.width():r.width()/2),this.previewContainer.css("padding",s.autoHeight?"20px 20px 50px 40px":"20px"),s.toolbar&&!s.readOnly?o.css("top",a.height()+1):o.css("top",0),!s.autoHeight||i.fullscreen||i.preview?(n=s.toolbar&&!s.readOnly?r.height()-a.height():r.height(),o.height(n)):o.height("")):(l.width(r.width()),o.hide()),i.loaded&&b.proxy(s.onresize,this)(),this},rtrim:function(e){var t=0,n=e.length;if(0==n)return"";for(var i=n-1;0<=i&&" "==e[i];--i)++t;return e.substr(0,n-t)},invMathProcess:function(e){for(var t=e.split("\n"),n=!1,i="",r=0;r<t.length;++r){var o=t[r];"```math"==o?n=!0:"```"==o&&1==n?n=!1:i+=o+"\n"}return i},mathProcess:function(e){for(var t="",n=e.split("\n"),i=!1,r="",o=!1,a=0;a<n.length;++a){var s=this.rtrim(n[a]),l=function(e){for(var t="",n=0;n<e.length-1&&(">"==e[n]&&" "==e[n+1]);n+=2)t+="> ";return t}(s);if("$$"==s||0<l.length&&"$"==s[l.length]&&"$"==s[l.length+1]){if(1==o){t+=s+"\n";continue}r+=s+"\n",0==i?i=!0:(t+=l+"```math\n",t+=r,t+=l+"```\n",i=!1,r="")}else if(/^```.*$/.test(s))t+=s+"\n",o=!o;else if(0==i){if(o||0<s.length&&"#"==s[0]){t+=s+"\n";continue}for(var c="",h=!1,d="",u=0;u<s.length;++u){var p=s[u];"$"==p?(d+=p,h=1!=h||(c+="`"+d+"`",d="",!1)):1==h?d+=p:c+=p}t+=(c+=d)+"\n"}else r+=s+"\n"}return t+=r},save:function(){var e=this.state,t=this.settings;if(null===p&&(t.watch||!e.preview))return this;var n=this.cm,i=n.getValue(),r=this.previewContainer;if("gfm"!==t.mode&&"markdown"!==t.mode)return this.markdownTextarea.val(i),this;var o=k.$marked,a=this.markdownToC=[],s=this.markedRendererOptions={path:t.path,toc:t.toc,tocm:t.tocm,tocStartLevel:t.tocStartLevel,pageBreak:t.pageBreak,taskList:t.taskList,emoji:t.emoji,tex:t.tex,atLink:t.atLink,emailLink:t.emailLink,flowChart:t.flowChart,sequenceDiagram:t.sequenceDiagram,previewCodeHighlight:t.previewCodeHighlight},l=this.markedOptions={renderer:k.markedRenderer(a,s),gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:!t.htmlDecode,smartLists:!0,smartypants:!1,imageLazyLoad:t.imageLazyLoad,imageLazyLoadLoadingICON:t.imageLazyLoadLoadingICON};o.setOptions(l);var c,h,d,u="",u=k.$marked(this.mathProcess(i),l);return u=k.filterHTMLTags(u,t.htmlDecode),this.markdownTextarea.text(i),n.save(),t.saveHTMLToTextarea&&this.htmlTextarea.text(u),(t.watch||!t.watch&&e.preview)&&(r.html(u),this.previewCodeHighlight(),t.toc&&(h=(c=""===t.tocContainer?r:b(t.tocContainer)).find("."+this.classPrefix+"toc-menu"),c.attr("previewContainer",""===t.tocContainer?"true":"false"),""!==t.tocContainer&&0<h.length&&h.remove(),d=k.markdownToCRenderer(a,c,t.tocDropdown,t.tocStartLevel),this.bindTocScrollEvent(d),(t.tocDropdown||0<c.find("."+this.classPrefix+"toc-menu").length)&&k.tocDropdownMenu(c,""!==t.tocTitle?t.tocTitle:this.lang.tocTitle),""!==t.tocContainer&&r.find(".markdown-toc").css("border","none")),(t.flowChart||t.sequenceDiagram)&&this.flowChartAndSequenceDiagramRender(),t.tex&&this.mathjaxRender(),t.imageLazyLoad&&window.ScriptAction.imageLazyLoad(),e.loaded&&b.proxy(t.onchange,this)()),this},focus:function(){return this.cm.focus(),this},setCursor:function(e){return this.cm.setCursor(e),this},getCursor:function(){return this.cm.getCursor()},setSelection:function(e,t){return this.cm.setSelection(e,t),this},getSelection:function(){return this.cm.getSelection()},setSelections:function(e){return this.cm.setSelections(e),this},getSelections:function(){return this.cm.getSelections()},replaceSelection:function(e){return this.cm.replaceSelection(e),this},insertValue:function(e){return this.replaceSelection(e),this},appendMarkdown:function(e){this.settings;var t=this.cm;return t.setValue(t.getValue()+e),this},setMarkdown:function(e){return this.cm.setValue(e||this.settings.markdown),this},getMarkdown:function(){return this.cm.getValue()},getValue:function(){return this.cm.getValue()},setValue:function(e){return this.cm.setValue(e),this},clear:function(){return this.cm.setValue(""),this},getHTML:function(){return this.settings.saveHTMLToTextarea?this.htmlTextarea.val():(alert("Error: settings.saveHTMLToTextarea == false"),!1)},getTextareaSavedHTML:function(){return this.getHTML()},getPreviewedHTML:function(){this.settings.watch?this.save():(this.settings.watch=!0,this.save(),this.settings.watch=!1);var e,t=this;!0===this.settings.imageLazyLoad&&(e=document.querySelectorAll(".lazyload"),Array.prototype.forEach.call(e,function(e){"img"===e.tagName.toLowerCase()&&(e.src="data:image/gif;base64,"+t.settings.imageLazyLoadLoadingICON)}));var n=new RegExp(this.settings.texHostUrl,"g");return b("#MJX-CHTML-styles").prop("outerHTML").replace(n,this.settings.texTargetUrl)+"\n"+this.previewContainer.html()},watch:function(e){var t,n,i,r=this.settings;return b.inArray(r.mode,["gfm","markdown"])<0||(this.state.watching=r.watch=!0,this.preview.show(),this.toolbar&&(t=r.toolbarIconsClass.watch,n=r.toolbarIconsClass.unwatch,(i=this.toolbar.find(".fa[name=watch]")).parent().attr("title",r.lang.toolbar.watch),i.removeClass(n).addClass(t)),this.codeMirror.css("border-right","1px solid #ddd").width(this.editor.width()/2),p=0,this.save().resize(),r.onwatch||(r.onwatch=e||function(){}),b.proxy(r.onwatch,this)()),this},unwatch:function(e){var t,n,i,r=this.settings;return this.state.watching=r.watch=!1,this.preview.hide(),this.toolbar&&(t=r.toolbarIconsClass.watch,n=r.toolbarIconsClass.unwatch,(i=this.toolbar.find(".fa[name=watch]")).parent().attr("title",r.lang.toolbar.unwatch),i.removeClass(t).addClass(n)),this.codeMirror.css("border-right","none").width(this.editor.width()),this.resize(),r.onunwatch||(r.onunwatch=e||function(){}),b.proxy(r.onunwatch,this)(),this},show:function(e){e=e||function(){};var t=this;return this.editor.show(0,function(){b.proxy(e,t)()}),this},hide:function(e){e=e||function(){};var t=this;return this.editor.hide(0,function(){b.proxy(e,t)()}),this},previewing:function(){var t=this,e=this.editor,n=this.preview,i=this.toolbar,r=this.settings,o=this.codeMirror,a=this.previewContainer;if(b.inArray(r.mode,["gfm","markdown"])<0)return this;r.toolbar&&i&&(i.toggle(),i.find(".fa[name=preview]").toggleClass("active")),o.toggle();function s(e){e.shiftKey&&27===e.keyCode&&t.previewed()}"none"===o.css("display")?(this.state.preview=!0,this.state.fullscreen&&n.css("background","#fff"),e.find("."+this.classPrefix+"preview-close-btn").show().bind(k.mouseOrTouch("click","touchend"),function(){t.previewed()}),r.watch?a.css("padding",""):this.save(),a.addClass(this.classPrefix+"preview-active"),n.show().css({position:"",top:0,width:e.width(),height:r.autoHeight&&!this.state.fullscreen?"auto":e.height()}),this.state.loaded&&b.proxy(r.onpreviewing,this)(),b(window).bind("keyup",s)):(b(window).unbind("keyup",s),this.previewed())},previewed:function(){var e=this.editor,t=this.preview,n=this.toolbar,i=this.settings,r=this.previewContainer,o=e.find("."+this.classPrefix+"preview-close-btn");return this.state.preview=!1,this.codeMirror.show(),i.toolbar&&n.show(),t[i.watch?"show":"hide"](),o.hide().unbind(k.mouseOrTouch("click","touchend")),r.removeClass(this.classPrefix+"preview-active"),i.watch&&r.css("padding","20px"),t.css({background:null,position:"absolute",width:e.width()/2,height:i.autoHeight&&!this.state.fullscreen?"auto":e.height()-n.height(),top:i.toolbar?n.height():0}),this.syncPreviewScrolling(),this.state.loaded&&b.proxy(i.onpreviewed,this)(),this},fullscreen:function(){var e=this.state,t=this.editor,n=(this.preview,this.toolbar),i=this.settings,r=this.classPrefix+"fullscreen";n&&n.find(".fa[name=fullscreen]").parent().toggleClass("active");return t.hasClass(r)?this.fullscreenExit():(e.fullscreen=!0,b("html,body").css("overflow","hidden"),t.css({width:b(window).width(),height:b(window).height()}).addClass(r),this.resize(),b.proxy(i.onfullscreen,this)()),this},fullscreenExit:function(){var e=this.editor,t=this.settings,n=this.toolbar,i=this.classPrefix+"fullscreen";return this.state.fullscreen=!1,n&&n.find(".fa[name=fullscreen]").parent().removeClass("active"),b("html,body").css("overflow","auto"),e.css({width:e.data("oldWidth"),height:e.data("oldHeight")}).removeClass(i),this.resize(),b.proxy(t.onfullscreenExit,this)(),this},executePlugin:function(e,t){var n=this,i=this.cm;return t=this.settings.pluginPath+t,"function"==typeof define?void 0===this[e]?alert("Error: "+e+" plugin is not found, you are not load this plugin."):this[e](i):b.inArray(t,k.loadFiles.plugin)<0?k.loadPlugin(t,function(){k.loadPlugins[e]=n[e],n[e](i)}):b.proxy(k.loadPlugins[e],this)(i),this},search:function(e){var t=this.settings;return t.searchReplace?t.readOnly||this.cm.execCommand(e||"find"):alert("Error: settings.searchReplace == false"),this},searchReplace:function(){return this.search("replace"),this},searchReplaceAll:function(){return this.search("replaceAll"),this}},k.fn.init.prototype=k.fn,k.dialogLockScreen=function(){(this.settings||{dialogLockScreen:!0}).dialogLockScreen&&(b("html,body").css("overflow","hidden"),this.resize())},k.dialogShowMask=function(e){var t=this.editor,n=this.settings||{dialogShowMask:!0};e.css({top:(b(window).height()-e.height())/2+"px",left:(b(window).width()-e.width())/2+"px"}),n.dialogShowMask&&t.children("."+this.classPrefix+"mask").css("z-index",parseInt(e.css("z-index"))-1).show()},k.toolbarHandlers={undo:function(){this.cm.undo()},redo:function(){this.cm.redo()},bold:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();e.replaceSelection("**"+n+"**"),""===n&&e.setCursor(t.line,t.ch+2)},del:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();e.replaceSelection("~~"+n+"~~"),""===n&&e.setCursor(t.line,t.ch+2)},italic:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();e.replaceSelection("*"+n+"*"),""===n&&e.setCursor(t.line,t.ch+1)},quote:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();if(0!==t.ch)e.setCursor(t.line,0),e.replaceSelection("> "+n),e.setCursor(t.line,t.ch+2);else{for(var i=n.split("\n"),r="",o=0;o<i.length;++o)r+="> "+i[o]+"\n";e.replaceSelection(r)}},ucfirst:function(){var e=this.cm,t=e.getSelection(),n=e.listSelections();e.replaceSelection(k.firstUpperCase(t)),e.setSelections(n)},ucwords:function(){var e=this.cm,t=e.getSelection(),n=e.listSelections();e.replaceSelection(k.wordsFirstUpperCase(t)),e.setSelections(n)},uppercase:function(){var e=this.cm,t=e.getSelection(),n=e.listSelections();e.replaceSelection(t.toUpperCase()),e.setSelections(n)},lowercase:function(){var e=this.cm,t=(e.getCursor(),e.getSelection()),n=e.listSelections();e.replaceSelection(t.toLowerCase()),e.setSelections(n)},h1:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();0!==t.ch?(e.setCursor(t.line,0),e.replaceSelection("# "+n),e.setCursor(t.line,t.ch+2)):e.replaceSelection("# "+n)},h2:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();0!==t.ch?(e.setCursor(t.line,0),e.replaceSelection("## "+n),e.setCursor(t.line,t.ch+3)):e.replaceSelection("## "+n)},h3:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();0!==t.ch?(e.setCursor(t.line,0),e.replaceSelection("### "+n),e.setCursor(t.line,t.ch+4)):e.replaceSelection("### "+n)},h4:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();0!==t.ch?(e.setCursor(t.line,0),e.replaceSelection("#### "+n),e.setCursor(t.line,t.ch+5)):e.replaceSelection("#### "+n)},h5:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();0!==t.ch?(e.setCursor(t.line,0),e.replaceSelection("##### "+n),e.setCursor(t.line,t.ch+6)):e.replaceSelection("##### "+n)},h6:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();0!==t.ch?(e.setCursor(t.line,0),e.replaceSelection("###### "+n),e.setCursor(t.line,t.ch+7)):e.replaceSelection("###### "+n)},"list-ul":function(){var e=this.cm,t=(e.getCursor(),e.getSelection());if(""===t)e.replaceSelection("- "+t);else{for(var n=t.split("\n"),i=0,r=n.length;i<r;i++)n[i]=""===n[i]?"":"- "+n[i];e.replaceSelection(n.join("\n"))}},"list-ol":function(){var e=this.cm,t=(e.getCursor(),e.getSelection());if(""===t)e.replaceSelection("1. "+t);else{for(var n=t.split("\n"),i=0,r=n.length;i<r;i++)n[i]=""===n[i]?"":i+1+". "+n[i];e.replaceSelection(n.join("\n"))}},hr:function(){var e=this.cm,t=e.getCursor();e.getSelection();e.replaceSelection((0!==t.ch?"\n\n":"\n")+"------------\n\n")},tex:function(){if(!this.settings.tex)return alert("settings.tex === false"),this;var e=this.cm,t=e.getCursor(),n=e.getSelection();e.replaceSelection("$$"+n+"$$"),""===n&&e.setCursor(t.line,t.ch+2)},link:function(){this.executePlugin("linkDialog","link-dialog/link-dialog")},"reference-link":function(){this.executePlugin("referenceLinkDialog","reference-link-dialog/reference-link-dialog")},pagebreak:function(){if(!this.settings.pageBreak)return alert("settings.pageBreak === false"),this;var e=this.cm;e.getSelection();e.replaceSelection("\r\n[========]\r\n")},image:function(){this.executePlugin("imageDialog","image-dialog/image-dialog")},file:function(){this.executePlugin("fileDialog","file-dialog/file-dialog")},code:function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();e.replaceSelection("`"+n+"`"),""===n&&e.setCursor(t.line,t.ch+1)},"code-block":function(){this.executePlugin("codeBlockDialog","code-block-dialog/code-block-dialog")},"preformatted-text":function(){this.executePlugin("preformattedTextDialog","preformatted-text-dialog/preformatted-text-dialog")},table:function(){this.executePlugin("tableDialog","table-dialog/table-dialog")},datetime:function(){var e=this.cm,t=(e.getSelection(),new Date,this.settings.lang.name),n=k.dateFormat()+" "+k.dateFormat("zh-cn"===t||"zh-tw"===t?"cn-week-day":"week-day");e.replaceSelection(n)},emoji:function(){this.executePlugin("emojiDialog","emoji-dialog/emoji-dialog")},"html-entities":function(){this.executePlugin("htmlEntitiesDialog","html-entities-dialog/html-entities-dialog")},"goto-line":function(){this.executePlugin("gotoLineDialog","goto-line-dialog/goto-line-dialog")},watch:function(){this[this.settings.watch?"unwatch":"watch"]()},preview:function(){this.previewing()},fullscreen:function(){this.fullscreen()},clear:function(){this.clear()},search:function(){this.search()},help:function(){this.executePlugin("helpDialog","help-dialog/help-dialog")},info:function(){this.showInfoDialog()},options:function(){this.executePlugin("optionsDialog","options-dialog/options-dialog")}},k.keyMaps={"Ctrl-1":"h1","Ctrl-2":"h2","Ctrl-3":"h3","Ctrl-4":"h4","Ctrl-5":"h5","Ctrl-6":"h6","Ctrl-B":"bold","Ctrl-D":"datetime","Ctrl-E":function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();this.settings.emoji?(e.replaceSelection(":"+n+":"),""===n&&e.setCursor(t.line,t.ch+1)):alert("Error: settings.emoji == false")},"Ctrl-Alt-G":"goto-line","Ctrl-H":"hr","Ctrl-I":"italic","Ctrl-K":"code","Ctrl-L":function(){var e=this.cm,t=e.getCursor(),n=e.getSelection(),i=""===n?"":' "'+n+'"';e.replaceSelection("["+n+"]("+i+")"),""===n&&e.setCursor(t.line,t.ch+1)},"Ctrl-U":"list-ul","Shift-Ctrl-A":function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();this.settings.atLink?(e.replaceSelection("@"+n),""===n&&e.setCursor(t.line,t.ch+1)):alert("Error: settings.atLink == false")},"Shift-Ctrl-C":"code","Shift-Ctrl-Q":"quote","Shift-Ctrl-S":"del","Shift-Ctrl-K":"tex","Shift-Alt-C":function(){var e=this.cm,t=e.getCursor(),n=e.getSelection();e.replaceSelection(["```",n,"```"].join("\n")),""===n&&e.setCursor(t.line,t.ch+3)},"Shift-Ctrl-Alt-C":"code-block","Shift-Ctrl-H":"html-entities","Shift-Alt-H":"help","Shift-Ctrl-E":"emoji","Shift-Ctrl-U":"uppercase","Shift-Alt-U":"ucwords","Shift-Ctrl-Alt-U":"ucfirst","Shift-Alt-L":"lowercase","Shift-Ctrl-I":function(){var e=this.cm,t=e.getCursor(),n=e.getSelection(),i=""===n?"":' "'+n+'"';e.replaceSelection("!["+n+"]("+i+")"),""===n&&e.setCursor(t.line,t.ch+4)},"Shift-Ctrl-Alt-I":"image","Shift-Ctrl-L":"link","Shift-Ctrl-O":"list-ol","Shift-Ctrl-P":"preformatted-text","Shift-Ctrl-T":"table","Shift-Alt-P":"pagebreak",F9:"watch",F10:"preview",F11:"fullscreen"};var f=function(e){return String.prototype.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};k.trim=f;k.ucwords=k.wordsFirstUpperCase=function(e){return e.toLowerCase().replace(/\b(\w)|\s(\w)/g,function(e){return e.toUpperCase()})};var e=function(e){return e.toLowerCase().replace(/\b(\w)/,function(e){return e.toUpperCase()})};return k.firstUpperCase=k.ucfirst=e,k.urls={atLinkBase:"https://github.com/"},k.regexs={atLink:/@(\w+)/g,email:/(\w+)@(\w+)\.(\w+)\.?(\w+)?/g,emailLink:/(mailto:)?([\w\.\_]+)@(\w+)\.(\w+)\.?(\w+)?/g,emoji:/:([\w\+-]+):/g,emojiDatetime:/(\d{1,2}:\d{1,2}:\d{1,2})/g,twemoji:/:(tw-([\w]+)-?(\w+)?):/g,fontAwesome:/:(fa-([\w]+)(-(\w+)){0,}):/g,editormdLogo:/:(editormd-logo-?(\w+)?):/g,pageBreak:/^\[[=]{8,}\]$/,footNoteRef:/\[\^(.+?)\]/,footNoteDef:/^\[\^(.+?)\]\:/},k.emoji={path:"../emoji/emojis/",ext:".png"},k.twemoji={path:"../emoji/twemoji/",ext:".png"},k.markedRenderer=function(p,e){var m=b.extend({toc:!0,tocm:!1,tocStartLevel:1,pageBreak:!0,atLink:!0,emailLink:!0,taskList:!1,emoji:!1,tex:!1,flowChart:!1,sequenceDiagram:!1},e||{}),i=k.$marked,t=new i.Renderer;p=p||[];var n=k.regexs,a=n.atLink,r=n.emoji,o=n.email,s=n.emailLink,A=n.twemoji,w=n.fontAwesome,v=n.editormdLogo,l=n.pageBreak,c=n.footNoteRef,h=n.footNoteDef;return t.emoji=function(e){var t=(e=e.replace(k.regexs.emojiDatetime,function(e){return e.replace(/:/g,"&#58;")})).match(r);if(!t||!m.emoji)return e;for(var n=0,i=t.length;n<i;n++)":+1:"===t[n]&&(t[n]=":\\+1:"),e=e.replace(new RegExp(t[n]),function(e,t){var n=e.match(w),i=e.replace(/:/g,"");if(n)for(var r=0,o=n.length;r<o;r++){var a=n[r].replace(/:/g,"");return'<i class="fa '+a+' fa-emoji" title="'+a.replace("fa-","")+'"></i>'}else{var s=e.match(v),l=e.match(A);if(s)for(var c=0,h=s.length;c<h;c++){var d=s[c].replace(/:/g,"");return'<i class="'+d+'" title="Editor.md logo ('+d+')"></i>'}else{if(!l){var u="+1"===i?"plus1":i;return u="moon"===(u="black_large_square"===u?"black_square":u)?"waxing_gibbous_moon":u,'<img src="'+m.path+k.emoji.path+u+k.emoji.ext+'" class="emoji" title="&#58;'+i+'&#58;" alt="&#58;'+i+'&#58;" />'}for(var p=0,f=l.length;p<f;p++){var g=l[p].replace(/:/g,"").replace("tw-","");return'<img src="'+m.path+k.twemoji.path+g+k.twemoji.ext+'" title="twemoji-'+g+'" alt="twemoji-'+g+'" class="emoji twemoji" />'}}}});return e},t.atLink=function(e){return a.test(e)&&(m.atLink&&(e=(e=e.replace(o,function(e,t,n,i){return e.replace(/@/g,"_#_&#64;_#_")})).replace(a,function(e,t){return'<a target="_blank" href="'+k.urls.atLinkBase+t+'" title="&#64;'+t+'" class="at-link">'+e+"</a>"}).replace(/_#_&#64;_#_/g,"@")),m.emailLink&&(e=e.replace(s,function(e,t,n,i,r){return!t&&b.inArray(r,"jpg|jpeg|png|gif|webp|ico|icon|pdf".split("|"))<0?'<a target="_blank" href="mailto:'+e+'">'+e+"</a>":e}))),e},t.footNote=function(e){if(c.test(e)){if(h.test(e)){return e=e.replace(/^\[\^(.+?)\]\:/g,function(e,t){var n=escape(t);return'<a href="#fnref:'+n+'" id="fn:'+n+'" title="Return to article" class="reversefootnote">['+t+"]:</a>"})}return e=e.replace(/\[\^(.+?)\]/g,function(e,t){var n=escape(t);return'<sup><a href="#fn:'+n+'" id="fnref:'+n+'" title="See footnote" class="footnote">['+t+"]</a></sup>"})}return e},t.link=function(e,t,n){if(this.options.sanitize){try{var i=decodeURIComponent(unescape(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===i.indexOf("javascript:"))return""}var r='target="_blank"';0<e.length&&"#"==e[0]&&(r="");var o="<a "+r+' href="'+e+'"';return a.test(t)||a.test(n)?(t&&(o+=' title="'+t.replace(/@/g,"&#64;")),o+'">'+n.replace(/@/g,"&#64;")+"</a>"):(t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>")},t.heading=function(e,t,n,i){var r=e,o=/\s*\<a\s*target=\"_blank\"\s*href\=\"(.*)\"\s*([^\>]*)\>(.*)\<\/a\>\s*/;if(o.test(e)){for(var a=[],s=0,l=(e=e.split(/\<a\s*([^\>]+)\>([^\>]*)\<\/a\>/)).length;s<l;s++)a.push(e[s].replace(/\s*target=\"_blank\"\s*href\=\"(.*)\"\s*/g,""));e=a.join(" ")}var c=(e=f(e)).toLowerCase().replace(/[^\w]+/g,"-"),h={text:e,level:t,slug:c,lineIdx:i},d=/^[\u4e00-\u9fa5]+$/.test(e)?escape(e).replace(/\%/g,""):e.toLowerCase().replace(/[^\w]+/g,"-");p.push(h);var u="<h"+t+' id="h'+t+"-"+this.options.headerPrefix+d+'" data-source-line="'+i+'">';return u+='<a name="'+e+'" class="reference-link"></a>',u+='<span class="header-link octicon octicon-link"></span>',u+=o?this.atLink(this.emoji(this.footNote(r))):this.atLink(this.emoji(this.footNote(e))),u+="</h"+t+">"},t.pageBreak=function(e){return l.test(e)&&m.pageBreak&&(e='<hr style="page-break-after:always;" class="page-break editormd-page-break" />'),e},t.paragraph=function(e,t){var n=m.tocm?/^(\[TOC\]|\[TOCM\])$/.test(e):/^\[TOC\]$/.test(e),i=/^\[TOCM\]$/.test(e),r='<div class="markdown-toc editormd-markdown-toc">'+e+"</div>",o=void 0!==t?' data-source-line="'+t:"";return n?i?'<div class="editormd-toc-menu">'+r+"</div><br/>":r:l.test(e)?this.pageBreak(e):"<p"+o+'">'+this.atLink(this.emoji(e))+"</p>\n"},t.code=function(e,t,n){return"seq"===t||"sequence"===t?'<div class="sequence-diagram">'+e+"</div>":"flow"===t?'<div class="flowchart">'+e+"</div>":"math"===t?'<div class="math math-block">'+e+"</div>":i.Renderer.prototype.code.apply(this,arguments)},t.codespan=function(e){return e.match(/^\$+([^\$\n]+?)\$+$/)?'<span class="math math-inline">'+e+"</span>":"<code>"+e+"</code>"},t.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">")+this.atLink(this.emoji(e))+"</"+n+">\n"},t.list=function(e,t,n){var i="";void 0!==n&&(i=' data-source-line="'+n+'"');var r=t?"ol":"ul";return"<"+r+i+">\n"+e+"</"+r+">\n"},t.listitem=function(e){return m.taskList&&/^\s*\[[x\s]\]\s*/.test(e)?(e=e.replace(/^\s*\[\s\]\s*/,'<input type="checkbox" class="task-list-item-checkbox" /> ').replace(/^\s*\[x\]\s*/,'<input type="checkbox" class="task-list-item-checkbox" checked disabled /> '),'<li style="list-style: none;">'+this.atLink(this.emoji(e))+"</li>"):"<li>"+this.atLink(this.emoji(e))+"</li>"},t.table=function(e,t,n){return"<table"+(void 0!==n?' data-source-line="'+n+'"':"")+">\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},t},k.markdownToCRenderer=function(e,t,n,i){var r="",o=0,a=this.classPrefix;i=i||1;for(var s=0,l=e.length;s<l;s++){var c=e[s].text,h=e[s].level,d=e[s].lineIdx;h<i||(o<h?(r+="",o+1<h&&(r+=new Array(h-o).join("<ul>"))):r+=h<o?new Array(o-h+2).join("</ul></li>"):"</ul></li>",r+='<li><a class="toc-level-'+h+'" href="#'+c+'" level="'+h+'" lineIdx="'+d+'">'+c+"</a><ul>",o=h)}var u,p=t.find(".markdown-toc");return p.length<1&&"false"===t.attr("previewContainer")&&(u='<div class="markdown-toc '+a+'markdown-toc"></div>',u=n?'<div class="'+a+'toc-menu">'+u+"</div>":u,t.html(u),p=t.find(".markdown-toc")),n&&p.wrap('<div class="'+a+'toc-menu"></div><br/>'),p.html('<ul class="markdown-toc-list"></ul>').children(".markdown-toc-list").html(r.replace(/\r?\n?\<ul\>\<\/ul\>/g,"")),p},k.tocDropdownMenu=function(e,a){a=a||"Table of Contents";var s=400,t=e.find("."+this.classPrefix+"toc-menu");return t.each(function(){var e=b(this),t=e.children(".markdown-toc"),i='<i class="fa fa-angle-down"></i>',n='<a href="javascript:;" class="toc-menu-btn">'+i+a+"</a>",r=t.children("ul"),o=r.find("li");t.append(n),o.first().before("<li><h1>"+a+" "+i+"</h1></li>"),e.mouseover(function(){r.show(),o.each(function(){var e,t=b(this),n=t.children("ul");""===n.html()&&n.remove(),0<n.length&&""!==n.html()&&((e=t.children("a").first()).children(".fa").length<1&&e.append(b(i).css({float:"right",paddingTop:"4px"}))),t.mouseover(function(){n.css("z-index",s).show(),s+=1}).mouseleave(function(){n.hide()})})}).mouseleave(function(){r.hide()})}),t},k.filterHTMLTags=function(e,t){if("string"!=typeof e&&(e=new String(e)),"string"!=typeof t)return e;for(var n=t.split("|"),i=n[0].split(","),r=(n[1],0),o=i.length;r<o;r++){var a=i[r];e=e.replace(new RegExp("<s*"+a+"s*([^>]*)>([^>]*)<s*/"+a+"s*>","igm"),"")}return e},k.markdownToHTML=function(e,t){var n=b("#"+e),i=n.settings=b.extend(!0,{path:"",gfm:!0,toc:!0,tocm:!1,tocStartLevel:1,tocTitle:"目录",tocDropdown:!1,tocContainer:"",markdown:"",markdownSourceCode:!1,htmlDecode:"style,script,iframe|on*",autoLoadKaTeX:!1,pageBreak:!1,atLink:!1,emailLink:!0,tex:!0,taskList:!0,emoji:!1,flowChart:!1,sequenceDiagram:!1,previewCodeHighlight:!0,imageLazyLoad:!1,imageLazyLoadLoadingICON:"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"},t||{}),r=n.find("textarea"),o=i.path;k.$marked=marked,r.length<1&&(n.append("<textarea></textarea>"),r=n.find("textarea"));var a=""===i.markdown?r.val():i.markdown,s=[],l={path:i.path,toc:i.toc,tocm:i.tocm,tocStartLevel:i.tocStartLevel,taskList:i.taskList,emoji:i.emoji,tex:i.tex,pageBreak:i.pageBreak,atLink:i.atLink,emailLink:i.emailLink,flowChart:i.flowChart,sequenceDiagram:i.sequenceDiagram,previewCodeHighlight:i.previewCodeHighlight},c={renderer:k.markedRenderer(s,l),gfm:i.gfm,tables:!0,breaks:!0,pedantic:!1,sanitize:!i.htmlDecode,smartLists:!0,smartypants:!1,imageLazyLoad:i.imageLazyLoad,imageLazyLoadLoadingICON:i.imageLazyLoadLoadingICON},h=marked(a,c),h=k.filterHTMLTags(h,i.htmlDecode);i.markdownSourceCode?r.text(a):r.remove(),n.addClass("markdown-body "+k.classPrefix+"html-preview").append(h);var d=""!==i.tocContainer?b(i.tocContainer):n;return""!==i.tocContainer&&d.attr("previewContainer",!1),i.toc&&(n.tocContainer=k.markdownToCRenderer(s,d,i.tocDropdown,i.tocStartLevel),(i.tocDropdown||0<n.find("."+k.classPrefix+"toc-menu").length)&&k.tocDropdownMenu(n,i.tocTitle),""!==i.tocContainer&&n.find(".editormd-toc-menu, .editormd-markdown-toc").remove()),i.previewCodeHighlight&&(n.find("pre").addClass("snippet prettyprint linenums"),prettyPrint(),void 0!==window.Clipboard&&window.Clipboard.render(o)),i.tex&&MathJax.typeset(),i.imageLazyLoad&&window.ScriptAction.imageLazyLoad(),n.getMarkdown=function(){return r.val()},n},k.themes=["default","dark"],k.previewThemes=["default","dark"],k.editorThemes=["default","3024-day","3024-night","abcdef","ambiance","ambiance-mobile","base16-dark","base16-light","bespin","blackboard","cobalt","colorforth","dracula","duotone-dark","duotone-light","eclipse","elegant","erlang-dark","hopscotch","icecoder","isotope","lesser-dark","liquibyte","material","mbo","mdn-like","midnight","monokai","neat","neo","night","panda-syntax","paraiso-dark","paraiso-light","pastel-on-dark","railscasts","rubyblue","seti","solarized","the-matrix","tomorrow-night-bright","tomorrow-night-eighties","ttcn","twilight","vibrant-ink","xq-dark","xq-light","yeti","zenburn"],k.keymapModes=["default","vim","emacs","sublime"],k.loadPlugins={},k.loadFiles={js:[],css:[],plugin:[]},k.loadPlugin=function(e,t,n){t=t||function(){},this.loadScript(e,function(){k.loadFiles.plugin.push(e),t()},n)},k.loadCSS=function(e,t,n){n=n||"head",t=t||function(){};var i=(e+".css").replace(/[\./]+/g,"-");if(document.getElementById(i))return k.loadFiles.css.push(e),void t();var r=document.createElement("link");r.id=i,r.type="text/css",r.rel="stylesheet",r.onload=r.onreadystatechange=function(){k.loadFiles.css.push(e),t()},r.href=e+".css","head"===n?document.getElementsByTagName("head")[0].appendChild(r):document.body.appendChild(r)},k.isIE="Microsoft Internet Explorer"==navigator.appName,k.isIE8=k.isIE&&"8."==navigator.appVersion.match(/8./i),k.loadScript=function(e,t,n,i,r){if(n=n||"body",t=t||function(){},i=i||(e+".js").replace(/[\./]+/g,"-"),r=r||"text/javascript",document.getElementById(i))return k.loadFiles.js.push(e),void t();var o=null;(o=document.createElement("script")).id=i,o.type=r,o.src=e+".js",k.isIE8?o.onreadystatechange=function(){o.readyState&&("loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,k.loadFiles.js.push(e),t()))}:o.onload=function(){k.loadFiles.js.push(e),t()},"head"===n?document.getElementsByTagName("head")[0].appendChild(o):document.body.appendChild(o)},k.MathJaxURL={configure:"mathjax/mathjax-configure",js:"mathjax/es5/tex-chtml-full"},k.MathJaxLoaded=!1,k.loadMathJax=function(e,t){k.loadScript(e+k.MathJaxURL.configure,function(){k.loadScript(e+k.MathJaxURL.js,function(){t&&t()})})},k.lockScreen=function(e){b("html,body").css("overflow","hidden")},k.createDialog=function(t){t=b.extend(!0,{name:"",width:420,height:240,title:"",drag:!0,closed:!0,content:"",mask:!0,maskStyle:{backgroundColor:"#fff",opacity:.1},lockScreen:!0,footer:!0,buttons:!1},t);var n=this,e=this.editor,i=k.classPrefix,r=(new Date).getTime(),o=""===t.name?i+"dialog-"+r:t.name,a=k.mouseOrTouch,s='<div class="'+i+"dialog "+o+'">';""!==t.title&&(s+='<div class="'+i+'dialog-header"'+(t.drag?' style="cursor: move;"':"")+">",s+='<strong class="'+i+'dialog-title">'+t.title+"</strong>",s+="</div>"),t.closed&&(s+='<a href="javascript:;" class="fa fa-close '+i+'dialog-close"></a>'),s+='<div class="'+i+'dialog-container">'+t.content,!t.footer&&"string"!=typeof t.footer||(s+='<div class="'+i+'dialog-footer">'+("boolean"==typeof t.footer?"":t.footer)+"</div>"),s+="</div>",s+='<div class="'+i+"dialog-mask "+i+'dialog-mask-bg"></div>',s+='<div class="'+i+"dialog-mask "+i+'dialog-mask-con"></div>',s+="</div>",e.append(s);var l=e.find("."+o);l.lockScreen=function(e){return t.lockScreen&&(b("html,body").css("overflow","hidden"),n.resize()),l},l.showMask=function(){return t.mask&&e.find("."+i+"mask").css(t.maskStyle).css("z-index",k.dialogZindex-1).show(),l},l.hideMask=function(){return t.mask&&e.find("."+i+"mask").hide(),l},l.loading=function(e){return l.find("."+i+"dialog-mask")[e?"show":"hide"](),l},l.lockScreen(!0).showMask(),l.show().css({zIndex:k.dialogZindex,border:k.isIE8?"1px solid #ddd":"",width:"number"==typeof t.width?t.width+"px":t.width,height:"number"==typeof t.height?t.height+"px":t.height});function c(){l.css({top:(b(window).height()-l.height())/2+"px",left:(b(window).width()-l.width())/2+"px"})}var h,d,u,p,f,g;if(c(),b(window).resize(c),l.children("."+i+"dialog-close").bind(a("click","touchend"),function(){l.hide().lockScreen(!1).hideMask()}),"object"===_typeof(t.buttons)){var m=l.footer=l.find("."+i+"dialog-footer");for(var A in t.buttons){var w=t.buttons[A],v=i+A+"-btn";m.append('<button class="'+i+"btn "+v+'">'+w[0]+"</button>"),w[1]=b.proxy(w[1],l),m.children("."+v).bind(a("click","touchend"),w[1])}}return""!==t.title&&t.drag&&(u=l.children("."+i+"dialog-header"),t.mask||u.bind(a("click","touchend"),function(){k.dialogZindex+=2,l.css("z-index",k.dialogZindex)}),u.mousedown(function(e){e=e||window.event,h=e.clientX-parseInt(l[0].style.left),d=e.clientY-parseInt(l[0].style.top),document.onmousemove=g}),p=function(e){e.removeClass(i+"user-unselect").off("selectstart")},f=function(e){e.addClass(i+"user-unselect").on("selectstart",function(e){return!1})},g=function(e){e=e||window.event;var t,n,i=parseInt(l[0].style.left),r=parseInt(l[0].style.top);0<=i?i+l.width()<=b(window).width()?t=e.clientX-h:(t=b(window).width()-l.width(),document.onmousemove=null):(t=0,document.onmousemove=null),0<=r?n=e.clientY-d:(n=0,document.onmousemove=null),document.onselectstart=function(){return!1},f(b("body")),f(l),l[0].style.left=t+"px",l[0].style.top=n+"px"},document.onmouseup=function(){p(b("body")),p(l),document.onselectstart=null,document.onmousemove=null},u.touchDraggable=function(){var i=null;this.bind("touchstart",function(e){var t=e.originalEvent,n=b(this).parent().position();i={x:t.changedTouches[0].pageX-n.left,y:t.changedTouches[0].pageY-n.top}}).bind("touchmove",function(e){e.preventDefault();var t=e.originalEvent;b(this).parent().css({top:t.changedTouches[0].pageY-i.y,left:t.changedTouches[0].pageX-i.x})})},u.touchDraggable()),k.dialogZindex+=2,l},k.mouseOrTouch=function(e,t){t=t||"touchend";var n=e=e||"click";try{document.createEvent("TouchEvent"),n=t}catch(e){}try{document.createEvent("MouseEvent"),n=e}catch(e){}return n},k.dateFormat=function(e){e=e||"";function t(e){return e<10?"0"+e:e}var n=new Date,i=n.getFullYear(),r=i.toString().slice(2,4),o=t(n.getMonth()+1),a=t(n.getDate()),s=n.getDay(),l=t(n.getHours()),c=t(n.getMinutes()),h=t(n.getSeconds()),d=t(n.getMilliseconds()),u="",p=r+"-"+o+"-"+a,f=i+"-"+o+"-"+a,g=l+":"+c+":"+h;switch(e){case"UNIX Time":u=n.getTime();break;case"UTC":u=n.toUTCString();break;case"yy":u=r;break;case"year":case"yyyy":u=i;break;case"month":case"mm":u=o;break;case"cn-week-day":case"cn-wd":u="星期"+["日","一","二","三","四","五","六"][s];break;case"week-day":case"wd":u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][s];break;case"day":case"dd":u=a;break;case"hour":case"hh":u=l;break;case"min":case"ii":u=c;break;case"second":case"ss":u=h;break;case"ms":u=d;break;case"yy-mm-dd":u=p;break;case"yyyy-mm-dd":u=f;break;case"yyyy-mm-dd h:i:s ms":case"full + ms":u=f+" "+g+" "+d;break;case"full":case"yyyy-mm-dd h:i:s":default:u=f+" "+g}return u},k}});